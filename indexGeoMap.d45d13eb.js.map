{"version":3,"sources":["scripts/geoMap/helper.js","assets/data/map_code_Postaux.json","scripts/geoMap/preprocess.js","scripts/geoMap/viz.js","scripts/geoMap/legend.js","scripts/geoMap/tooltip.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-collection/src/nest.js","../node_modules/d3-collection/src/set.js","../node_modules/d3-collection/src/keys.js","../node_modules/d3-collection/src/values.js","../node_modules/d3-collection/src/entries.js","../node_modules/d3-collection/src/index.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/create.js","../node_modules/d3-selection/src/local.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/point.js","../node_modules/d3-selection/src/mouse.js","../node_modules/d3-selection/src/selectAll.js","../node_modules/d3-selection/src/touch.js","../node_modules/d3-selection/src/touches.js","../node_modules/d3-selection/src/index.js","../node_modules/d3-tip/index.js","indexGeoMap.js"],"names":["generateMapG","width","height","d3","select","append","attr","generateMarkerG","setCanvasSize","initPanelDiv","style","getSimulation","data","forceSimulation","features","alphaDecay","velocityDecay","force","forceCollide","strength","simulate","simulation","on","selectAll","d","x","y","getProjection","geoMercator","center","scale","getPath","projection","geoPath","module","exports","Verdun","Anjou","Kirkland","Senneville","LaSalle","Dorval","Lachine","Outremont","Beaconsfield","Hampstead","Westmount","getJsonMap","require","MapNeighborhood","neighborhoods","obj","temp","forEach","annonce","neighborhood","index","length","location","toUpperCase","includes","tempPrice","parseInt","price","tempSuperficie","areainfeet","Object","entries","key","value","mapBackground","path","enter","elem","setRadiusScale","superficie","keys","map","domain","Math","min","max","range","setColorScale","colors","prices","mapMarkers","radiusScale","colorScale","procData","districts","tip","filter","hasOwnProperty","centroid","show","hide","call","drawLegend","g","text","toString","svg","LEFT_UPPER_ELEMENT","i","yScale","scaleLinear","axisLeft","ticks","NEW_BOTTOM_UPPER_ELEMENT","BOTTOM_UPPER_ELEMENT","total_offset","super_value","OFFSET","getContents","Number","toFixed","prefix","Map","object","f","each","set","Array","isArray","o","n","prototype","constructor","has","get","remove","property","clear","push","slice","values","size","empty","sortValues","rollup","nest","sortKeys","apply","array","depth","createResult","setResult","sort","keyValue","valuesByKey","result","createObject","setObject","createMap","setMap","sortKey","v","k","a","b","order","Set","proto","add","xhtml","xlink","xml","xmlns","name","indexOf","namespaces","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","namespace","none","selector","querySelector","groups","_groups","m","subgroups","j","node","subnode","group","subgroup","__data__","Selection","_parents","querySelectorAll","selectorAll","parents","matches","match","matcher","update","_enter","sparse","EnterNode","parent","datum","_next","_parent","appendChild","child","insertBefore","next","keyPrefix","bindIndex","exit","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","bind","constant","enterGroup","updateGroup","previous","i0","i1","_exit","onenter","onupdate","onexit","merge","selection","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","parentNode","compare","compareNode","ascending","sortgroups","sortgroup","NaN","callback","arguments","nodes","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","getAttributeNS","getAttribute","defaultView","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","trim","split","classList","ClassList","_node","_names","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","contains","join","splice","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","create","creator","constantNull","before","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","deep","filterEvents","event","element","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","event1","event0","parseTypenames","typenames","t","type","onRemove","typename","__on","removeEventListener","capture","onAdd","wrap","addEventListener","customEvent","that","args","sourceEvent","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","selection_select","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_join","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","classed","selection_classed","selection_text","html","selection_html","selection_raise","selection_lower","selection_append","insert","selection_insert","selection_remove","selection_clone","selection_datum","selection_on","dispatch","selection_dispatch","nextId","Local","_","id","source","current","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","left","clientLeft","top","clientTop","changedTouches","touches","identifier","touch","points","direction","offset","rootElement","body","initNode","target","vis","svgNode","tagName","toLowerCase","SVGElement","pop","coords","content","poffset","dir","nodel","getNodeEl","directions","scrollTop","scrollLeft","directionCallbacks","functor","destroy","bbox","getScreenBBox","offsetHeight","offsetWidth","s","e","w","nw","ne","sw","se","div","targetShape","targetel","matrix","tbbox","getBBox","svgSize","helper","d3Tip","tooltip","json","then","data1","viz","showMapLabel","csv","processed_data","preproc","legend"],"mappings":"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","file":"indexGeoMap.d45d13eb.js","sourceRoot":"../src","sourcesContent":["\n/**\n * Generates the SVG element g which will contain the map base.\n *\n * @param {number} width The width of the graph\n * @param {number} height The height of the graph\n * @returns {*} The d3 Selection for the created g element\n */\nexport function generateMapG (width, height) {\n  return d3.select('.graph')\n    .select('svg')\n    .append('g')\n    .attr('id', 'map-g')\n    .attr('width', width)\n    .attr('height', height)\n}\n\n/**\n * Generates the SVG element g which will contain the map markers.\n *\n * @param {number} width The width of the graph\n * @param {number} height The height of the graph\n * @returns {*} The d3 Selection for the created g element\n */\nexport function generateMarkerG (width, height) {\n  return d3.select('.graph')\n    .select('svg')\n    .append('g')\n    .attr('id', 'marker-g')\n    .attr('width', width)\n    .attr('height', height)\n}\n\n/**\n * Sets the size of the SVG canvas containing the graph.\n *\n * @param {number} width The desired width\n * @param {number} height The desired height\n */\nexport function setCanvasSize (width, height) {\n  d3.select('#map').select('svg')\n    .attr('width', width)\n    .attr('height', height)\n}\n\n/**\n * Initializes the div which will contain the information panel.\n */\nexport function initPanelDiv () {\n  d3.select('.graph')\n    .append('div')\n    .attr('id', 'panel')\n    .style('width', '215px')\n    .style('border', '1px solid black')\n    .style('padding', '10px')\n    .style('visibility', 'hidden')\n}\n\n/**\n * Initializes the simulation used to place the circles\n *\n * @param {object} data The data to be displayed\n * @returns {*} The generated simulation\n */\nexport function getSimulation (data) {\n  return d3.forceSimulation(data.features)\n    .alphaDecay(0)\n    .velocityDecay(0.75)\n    .force('collision',\n      d3.forceCollide(5)\n        .strength(1)\n    )\n}\n\n/**\n * Update the (x, y) position of the circles'\n * centers on each tick of the simulation.\n *\n * @param {*} simulation The simulation used to position the cirles.\n */\nexport function simulate (simulation) {\n  simulation.on('tick', () => {\n    d3.selectAll('.marker')\n      .attr('cx', (d) => d.x)\n      .attr('cy', (d) => d.y)\n  })\n}\n\n/**\n * Sets up the projection to be used.\n *\n * @returns {*} The projection to use to trace the map elements\n */\nexport function getProjection () {\n  return d3.geoMercator()\n    .center([-73.708879, 45.579611])\n    .scale(70000)\n}\n\n/**\n * Sets up the path to be used.\n *\n * @param {*} projection The projection used to trace the map elements\n * @returns {*} The path to use to trace the map elements\n */\nexport function getPath (projection) {\n  return d3.geoPath()\n    .projection(projection)\n}\n","module.exports={\"Rivire-des-Prairies-Pointe-aux-Trembles\":[\"H1A\"],\"Villeray-Saint-Michel-Parc-Extension\":[\"H2A\",\"H2E\",\"H3N\",\"H2P\",\"H2R\",\"H1Z\"],\"Cte-des-Neiges-Notre-Dame-de-Grce\":[\"H4A\",\"H4B\",\"H3S\",\"H3T\",\"H3V\",\"H3W\"],\"Dollard-Des-Ormeaux\":[\"H9A\",\"H9B\",\"H9G\"],\"Montral-Est\":[\"H1B\"],\"Ahuntsic-Cartierville\":[\"H2B\",\"H2C\",\"H4J\",\"H4K\",\"H3L\",\"H2M\",\"H3M\",\"H2N\"],\"L'le-Bizard-Sainte-Genevive\":[\"H9C\",\"H9H\"],\"Montral-Nord\":[\"H1G\",\"H1H\"],\"Rosemont-La Petite-Patrie\":[\"H2G\",\"H2S\",\"H1X\",\"H1Y\"],Verdun:[\"H4G\",\"H4H\"],\"Le Plateau-Mont-Royal\":[\"H2H\",\"H2J\",\"H2T\",\"H2W\",\"H2X\"],Anjou:[\"H1J\",\"H1K\"],Kirkland:[\"H9J\"],Senneville:[\"H9K\"],\"Mercier-Hochelaga-Maisonneuve\":[\"H1L\",\"H1M\",\"H1N\",\"H1V\",\"H1W\"],\"Saint-Laurent\":[\"H4L\",\"H4M\",\"H4N\",\"H4R\",\"H4S\",\"H4T\"],LaSalle:[\"H8N\",\"H8P\",\"H4E\"],\"Ville-Marie\":[\"H3A\",\"H3B\",\"H3G\",\"H3H\",\"H2Y\",\"H2Z\",\"H4Z\"],\"Saint-Lonard\":[\"H1P\",\"H1R\",\"H1S\"],\"Mont-Royal\":[\"H3P\",\"H3R\",\"H4P\"],Dorval:[\"H9P\",\"H4Y\"],\"Pointe-Claire\":[\"H9R\"],Lachine:[\"H8S\",\"H8T\"],\"L'le-Dorval\":[\"H9S\"],Outremont:[\"H2V\"],\"Cte-Saint-Luc\":[\"H4V\",\"H4W\"],Beaconsfield:[\"H9W\"],Hampstead:[\"H3X\"],\"Montral-Ouest\":[\"H4X\"],Westmount:[\"H3Y\",\"H3Z\"],\"Pierrefonds-Roxboro\":[\"H8Y\",\"H8Z\"]};","/**\n * Gets the map of Montreals neighborhoods with their postal code\n * @returns {*} The json containing the data\n */\n\nexport function getJsonMap(){\n    return require('../../assets/data/map_code_Postaux.json')\n}\n\n/**\n * Put in dictionnary the differents neighborhoods with some useful informations\n * @param {object} data All the data\n * @returns {object} Synthesized data (such as median of the price per neighborhood)\n */\n\nexport function MapNeighborhood(data){\n    var neighborhoods = getJsonMap();\n    let obj = {};\n\n    let temp = {}\n\n    data.forEach(annonce => {\n        for(var neighborhood in neighborhoods){\n            for (let index = 0; index < neighborhoods[neighborhood].length; index++) {\n                if(annonce.location.toUpperCase().includes(neighborhoods[neighborhood][index].toUpperCase())){\n                    if(!(neighborhood in obj)){\n                        obj[neighborhood] = {}\n                        obj[neighborhood][\"total\"] = 1\n\n                        temp[neighborhood] = [0, 0]\n                        let tempPrice = parseInt(annonce.price),\n                        tempSuperficie = parseInt(annonce.areainfeet)\n\n                        if(tempPrice){\n                            temp[neighborhood][0] += 1\n                        }\n                        if(tempSuperficie){\n                            temp[neighborhood][1] += 1\n                        }\n                        obj[neighborhood][\"prix\"] = tempPrice ? tempPrice : 0\n                        obj[neighborhood][\"superficie\"] = tempSuperficie ? tempSuperficie : 0\n                    } else {\n                        obj[neighborhood][\"total\"] += 1\n\n                        let tempPrice = parseInt(annonce.price),\n                        tempSuperficie = parseInt(annonce.areainfeet)\n                        if(tempPrice){\n                            temp[neighborhood][0] += 1\n                        }\n                        if(tempSuperficie){\n                            temp[neighborhood][1] += 1\n                        }\n\n                        obj[neighborhood][\"prix\"] += tempPrice ? tempPrice : 0\n                        obj[neighborhood][\"superficie\"] += tempSuperficie ? tempSuperficie : 0\n                    }\n                    break;\n                }\n            }\n        }\n    });\n\n\n    for (const [key, value] of Object.entries(obj)) {\n        value[\"prix\"] = temp[key][0] ? value[\"prix\"]/temp[key][0] : 0\n        value[\"superficie\"] = temp[key][1] ? value[\"superficie\"]/temp[key][1] : 0\n    }\n    return obj\n}\n","/**\n * Draws the map base of Montreal. Each neighborhood should display its name when hovered.\n *\n * @param {object[]} data The data for the map base\n * @param {*} path The path associated with the current projection\n * @param {Function} showMapLabel The function to call when a neighborhood is hovered\n */\nexport function mapBackground (data, path) {\n  d3.select(\"#map-g\")\n    .selectAll(\"path\")\n    .data(data[\"features\"])\n    .enter()\n    .append(\"path\")\n    .attr(\"class\", \"paths\")\n    .attr(\"d\", function(elem){ return path(elem) })\n    .style(\"fill\",\"lightgrey\")\n    .attr(\"stroke\", \"white\")\n    .attr(\"stroke-width\", \"1px\")\n}\n\n/**\n * Sets the domain and range of the radius scale.\n * @param {*} scale The radius scale\n * @param {*} data The data to find the domain's extremum\n */\n\nexport function setRadiusScale (scale, data) {\n  let keys = Object.keys(data)\n  let superficie = keys.map(key => data[key][\"superficie\"])\n  scale.domain([Math.min(...superficie), Math.max(...superficie)]).range([2, 12]);\n}\n\n/**\n * Sets the domain and range of the color scale.\n * @param {*} scale The color scale\n * @param {*} data The data to find the domain's extremum\n * @param {string[]} colors Do the gradients of which colors\n */\nexport function setColorScale (scale, data, colors) {\n  let keys = Object.keys(data)\n  let prices = keys.map(key => data[key][\"prix\"])\n  scale.domain([...prices], Math.max(...prices)).range(colors)//.interpolate(d3.interpolateHcl)\n}\n\n/**\n * Displays the markers for each street on the map.\n * @param {*} radiusScale The radius scale\n * @param {*} colorScale The color scaled used to determine the color of the circles\n * @param {*} procData The data that contains the price, superficie and quantity for each neighborhood\n * @param {*} districts The information needed to draw the neighborhood (and find the centroid)\n * @param {*} path The path associated with the current projection\n * @param {*} tip Tooltip\n */\nexport function mapMarkers (radiusScale, colorScale, procData, districts, path, tip) {\n  districts = districts.filter(elem => procData.hasOwnProperty(elem[\"properties\"][\"NOM\"]))\n\n\n  let circles = d3.select(\"#marker-g\")\n    .selectAll(\"circle\")\n    .data(districts)\n    .enter()\n    .append(\"circle\")\n    .attr(\"r\", function(elem){ return radiusScale(procData[elem[\"properties\"][\"NOM\"]][\"superficie\"]) })\n    .attr(\"cx\", function(elem){ return path.centroid(elem)[0] })\n    .attr(\"cy\", function(elem){ return path.centroid(elem)[1] })\n    .attr(\"fill\", function(elem){ return colorScale(procData[elem[\"properties\"][\"NOM\"]][\"prix\"]) })\n    .attr(\"stroke\", \"white\")\n    .attr(\"stroke-width\", \"1px\")\n    .on('mouseover', function(d){ tip.show({...procData[d[\"properties\"][\"NOM\"]], \"name\" : d[\"properties\"][\"NOM\"]}, this)})\n    .on('mouseout', function(d){ tip.hide({...procData[d[\"properties\"][\"NOM\"]], \"name\" : d[\"properties\"][\"NOM\"]}, this)})\n    \n    circles.call(tip)\n}\n","/**\n * Draws the color legend.\n *\n * @param {*} colorScale The color scale used for the legend\n * @param {*} g The d3 Selection of the SVG g elemnt containing the legend\n */\nexport function drawLegend (radiusScale,colorScale, g) {\n    \n    const BOTTOM_UPPER_ELEMENT = 40\n    const LEFT_UPPER_ELEMENT = 820\n    const OFFSET = 20\n    const BAR_HEIGHT = 200\n    \n    //titles\n    g.append('text')\n    .text('Lgende')\n    .attr('font-weight', \"bold\")\n    .attr('transform', \"translate(\" + LEFT_UPPER_ELEMENT.toString() + \",\" + BOTTOM_UPPER_ELEMENT.toString() + \")\")\n\n    g.append('text')\n    .text('Prix mdian')\n    .attr(\"font-size\", \"12\")\n    .attr('transform', \"translate(\" + LEFT_UPPER_ELEMENT.toString() + \",\" + (BOTTOM_UPPER_ELEMENT + OFFSET*1.5).toString() + \")\")\n\n\n    //titles (link : https://stackoverflow.com/questions/39023154/how-to-make-a-color-gradient-bar-using-d3js)\n    var colors = colorScale.range();\n\n    var svg = g.append('svg')\n    .attr('width', 30)\n    .attr('height', BAR_HEIGHT)\n    .attr('x', LEFT_UPPER_ELEMENT + 30)\n    .attr('y', (BOTTOM_UPPER_ELEMENT + OFFSET*2).toString())\n    \n\n    var grad = svg.append('defs')\n    .append('linearGradient')\n    .attr('id', 'grad')\n    .attr('x1', '0%')\n    .attr('x2', '0%')\n    .attr('y1', '100%')\n    .attr('y2', '0%');\n\n    grad.selectAll('stop')\n    .data(colors)\n    .enter()\n    .append('stop')\n    .style('stop-color', function(d){ return d; })\n    .attr('offset', function(d,i){\n        return 100 * (i / (colors.length - 1)) + '%';\n    })\n\n    svg.append('rect')\n    .attr('x', 10)\n    .attr('y', 10)\n    .attr('width', 50)\n    .attr('height', BAR_HEIGHT)\n    .style('fill', 'url(#grad)');\n\n    //bar axes\n    const yScale = d3.scaleLinear()\n    let domain = colorScale.domain()\n    yScale.domain([Math.min(...domain), Math.max(...domain)]).range([BAR_HEIGHT, 0]);\n\n    g.append(\"g\")\n    .attr('transform', \"translate(\" + (LEFT_UPPER_ELEMENT + 30).toString() + \",\" + (BOTTOM_UPPER_ELEMENT + OFFSET*2).toString() + \") \")\n    .call(d3.axisLeft(yScale).ticks(5))\n\n    const NEW_BOTTOM_UPPER_ELEMENT = BOTTOM_UPPER_ELEMENT + OFFSET*5 + BAR_HEIGHT\n    g.append('text')\n    .text('Superficie en pieds mdianne')\n    .attr(\"font-size\", \"12\")\n    .attr('transform', \"translate(\" + LEFT_UPPER_ELEMENT.toString() + \",\" + NEW_BOTTOM_UPPER_ELEMENT.toString() + \")\")\n\n    let total_offset = NEW_BOTTOM_UPPER_ELEMENT + OFFSET\n    for(let i = 0; i <= 4; i++){\n        let super_value = 1800*(i/4)\n        let value = radiusScale(super_value)\n        total_offset += value*2 + OFFSET/2\n        g.append('circle')\n        .attr('cx', LEFT_UPPER_ELEMENT + OFFSET)\n        .attr('cy', total_offset)\n        .attr('r', value)\n        .attr('fill', 'black');\n\n        g.append('text')\n        .text(super_value.toString() + \" pieds\")\n        .attr('font-size', 12)\n        .attr('x', LEFT_UPPER_ELEMENT + OFFSET*2)\n        .attr('y', total_offset + value/2)\n        .attr('fill', 'black');\n    }\n    \n\n}\n","/**\n * Defines the contents of the tooltip.\n *\n * @param {object} d The data associated to the hovered element\n * @returns {string} The tooltip contents\n */\nexport function getContents (d) {\n  /* TODO : Define and return the tooltip contents including :\n      + A title stating the hovered element's group, with:\n        - Font family: Grenze Gotish\n        - Font size: 24px\n        - Font weigth: normal\n      + A bold label for the player name followed\n        by the hovered elements's player's name\n      + A bold label for the player's line count\n        followed by the number of lines\n  */\n\n  return `<div style='font-weight:normal'>\n            <b>Nom du quartier : </b>${d[\"name\"]}<br/>\n            <b>Prix mdian : </b>${Number(Number(d[\"prix\"]).toFixed(2))}$<br/>\n            <b>Superficie mdianne : </b>${Number(Number(d[\"superficie\"]).toFixed(2))} pieds<br/>\n            <b>Taille d'chantillon : </b>${d[\"total\"]}<br/>\n          </div>`\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n","export default function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n","export default function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n","export {default as nest} from \"./nest\";\nexport {default as set} from \"./set\";\nexport {default as map} from \"./map\";\nexport {default as keys} from \"./keys\";\nexport {default as values} from \"./values\";\nexport {default as entries} from \"./entries\";\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","export {default as create} from \"./create\";\nexport {default as creator} from \"./creator\";\nexport {default as local} from \"./local\";\nexport {default as matcher} from \"./matcher\";\nexport {default as mouse} from \"./mouse\";\nexport {default as namespace} from \"./namespace\";\nexport {default as namespaces} from \"./namespaces\";\nexport {default as clientPoint} from \"./point\";\nexport {default as select} from \"./select\";\nexport {default as selectAll} from \"./selectAll\";\nexport {default as selection} from \"./selection/index\";\nexport {default as selector} from \"./selector\";\nexport {default as selectorAll} from \"./selectorAll\";\nexport {styleValue as style} from \"./selection/style\";\nexport {default as touch} from \"./touch\";\nexport {default as touches} from \"./touches\";\nexport {default as window} from \"./window\";\nexport {event, customEvent} from \"./selection/on\";\n","/**\n * d3.tip\n * Copyright (c) 2013-2017 Justin Palmer\n *\n * Tooltips for d3.js SVG visualizations\n */\n// eslint-disable-next-line no-extra-semi\nimport { map } from 'd3-collection'\nimport { selection, select } from 'd3-selection'\n// Public - constructs a new tooltip\n//\n// Returns a tip\nexport default function() {\n  var direction   = d3TipDirection,\n      offset      = d3TipOffset,\n      html        = d3TipHTML,\n      rootElement = document.body,\n      node        = initNode(),\n      svg         = null,\n      point       = null,\n      target      = null\n\n  function tip(vis) {\n    svg = getSVGNode(vis)\n    if (!svg) return\n    point = svg.createSVGPoint()\n    rootElement.appendChild(node)\n  }\n\n  // Public - show the tooltip on the screen\n  //\n  // Returns a tip\n  tip.show = function() {\n    var args = Array.prototype.slice.call(arguments)\n    if (args[args.length - 1] instanceof SVGElement) target = args.pop()\n\n    var content = html.apply(this, args),\n        poffset = offset.apply(this, args),\n        dir     = direction.apply(this, args),\n        nodel   = getNodeEl(),\n        i       = directions.length,\n        coords,\n        scrollTop  = document.documentElement.scrollTop ||\n      rootElement.scrollTop,\n        scrollLeft = document.documentElement.scrollLeft ||\n      rootElement.scrollLeft\n\n    nodel.html(content)\n      .style('opacity', 1).style('pointer-events', 'all')\n\n    while (i--) nodel.classed(directions[i], false)\n    coords = directionCallbacks.get(dir).apply(this)\n    nodel.classed(dir, true)\n      .style('top', (coords.top + poffset[0]) + scrollTop + 'px')\n      .style('left', (coords.left + poffset[1]) + scrollLeft + 'px')\n\n    return tip\n  }\n\n  // Public - hide the tooltip\n  //\n  // Returns a tip\n  tip.hide = function() {\n    var nodel = getNodeEl()\n    nodel.style('opacity', 0).style('pointer-events', 'none')\n    return tip\n  }\n\n  // Public: Proxy attr calls to the d3 tip container.\n  // Sets or gets attribute value.\n  //\n  // n - name of the attribute\n  // v - value of the attribute\n  //\n  // Returns tip or attribute value\n  // eslint-disable-next-line no-unused-vars\n  tip.attr = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().attr(n)\n    }\n\n    var args =  Array.prototype.slice.call(arguments)\n    selection.prototype.attr.apply(getNodeEl(), args)\n    return tip\n  }\n\n  // Public: Proxy style calls to the d3 tip container.\n  // Sets or gets a style value.\n  //\n  // n - name of the property\n  // v - value of the property\n  //\n  // Returns tip or style property value\n  // eslint-disable-next-line no-unused-vars\n  tip.style = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().style(n)\n    }\n\n    var args = Array.prototype.slice.call(arguments)\n    selection.prototype.style.apply(getNodeEl(), args)\n    return tip\n  }\n\n  // Public: Set or get the direction of the tooltip\n  //\n  // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n  //     sw(southwest), ne(northeast) or se(southeast)\n  //\n  // Returns tip or direction\n  tip.direction = function(v) {\n    if (!arguments.length) return direction\n    direction = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: Sets or gets the offset of the tip\n  //\n  // v - Array of [x, y] offset\n  //\n  // Returns offset or\n  tip.offset = function(v) {\n    if (!arguments.length) return offset\n    offset = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the html value of the tooltip\n  //\n  // v - String value of the tip\n  //\n  // Returns html value or tip\n  tip.html = function(v) {\n    if (!arguments.length) return html\n    html = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the root element anchor of the tooltip\n  //\n  // v - root element of the tooltip\n  //\n  // Returns root node of tip\n  tip.rootElement = function(v) {\n    if (!arguments.length) return rootElement\n    rootElement = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: destroys the tooltip and removes it from the DOM\n  //\n  // Returns a tip\n  tip.destroy = function() {\n    if (node) {\n      getNodeEl().remove()\n      node = null\n    }\n    return tip\n  }\n\n  function d3TipDirection() { return 'n' }\n  function d3TipOffset() { return [0, 0] }\n  function d3TipHTML() { return ' ' }\n\n  var directionCallbacks = map({\n        n:  directionNorth,\n        s:  directionSouth,\n        e:  directionEast,\n        w:  directionWest,\n        nw: directionNorthWest,\n        ne: directionNorthEast,\n        sw: directionSouthWest,\n        se: directionSouthEast\n      }),\n      directions = directionCallbacks.keys()\n\n  function directionNorth() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.n.y - node.offsetHeight,\n      left: bbox.n.x - node.offsetWidth / 2\n    }\n  }\n\n  function directionSouth() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.s.y,\n      left: bbox.s.x - node.offsetWidth / 2\n    }\n  }\n\n  function directionEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.e.y - node.offsetHeight / 2,\n      left: bbox.e.x\n    }\n  }\n\n  function directionWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.w.y - node.offsetHeight / 2,\n      left: bbox.w.x - node.offsetWidth\n    }\n  }\n\n  function directionNorthWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.nw.y - node.offsetHeight,\n      left: bbox.nw.x - node.offsetWidth\n    }\n  }\n\n  function directionNorthEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.ne.y - node.offsetHeight,\n      left: bbox.ne.x\n    }\n  }\n\n  function directionSouthWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.sw.y,\n      left: bbox.sw.x - node.offsetWidth\n    }\n  }\n\n  function directionSouthEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.se.y,\n      left: bbox.se.x\n    }\n  }\n\n  function initNode() {\n    var div = select(document.createElement('div'))\n    div\n      .style('position', 'absolute')\n      .style('top', 0)\n      .style('opacity', 0)\n      .style('pointer-events', 'none')\n      .style('box-sizing', 'border-box')\n\n    return div.node()\n  }\n\n  function getSVGNode(element) {\n    var svgNode = element.node()\n    if (!svgNode) return null\n    if (svgNode.tagName.toLowerCase() === 'svg') return svgNode\n    return svgNode.ownerSVGElement\n  }\n\n  function getNodeEl() {\n    if (node == null) {\n      node = initNode()\n      // re-add node to DOM\n      rootElement.appendChild(node)\n    }\n    return select(node)\n  }\n\n  // Private - gets the screen coordinates of a shape\n  //\n  // Given a shape on the screen, will return an SVGPoint for the directions\n  // n(north), s(south), e(east), w(west), ne(northeast), se(southeast),\n  // nw(northwest), sw(southwest).\n  //\n  //    +-+-+\n  //    |   |\n  //    +   +\n  //    |   |\n  //    +-+-+\n  //\n  // Returns an Object {n, s, e, w, nw, sw, ne, se}\n  function getScreenBBox(targetShape) {\n    var targetel   = target || targetShape\n\n    while (targetel.getScreenCTM == null && targetel.parentNode != null) {\n      targetel = targetel.parentNode\n    }\n\n    var bbox       = {},\n        matrix     = targetel.getScreenCTM(),\n        tbbox      = targetel.getBBox(),\n        width      = tbbox.width,\n        height     = tbbox.height,\n        x          = tbbox.x,\n        y          = tbbox.y\n\n    point.x = x\n    point.y = y\n    bbox.nw = point.matrixTransform(matrix)\n    point.x += width\n    bbox.ne = point.matrixTransform(matrix)\n    point.y += height\n    bbox.se = point.matrixTransform(matrix)\n    point.x -= width\n    bbox.sw = point.matrixTransform(matrix)\n    point.y -= height / 2\n    bbox.w = point.matrixTransform(matrix)\n    point.x += width\n    bbox.e = point.matrixTransform(matrix)\n    point.x -= width / 2\n    point.y -= height / 2\n    bbox.n = point.matrixTransform(matrix)\n    point.y += height\n    bbox.s = point.matrixTransform(matrix)\n\n    return bbox\n  }\n\n  // Private - replace D3JS 3.X d3.functor() function\n  function functor(v) {\n    return typeof v === 'function' ? v : function() {\n      return v\n    }\n  }\n\n  return tip\n}\n","import * as helper from './scripts/geoMap/helper'\nimport * as preproc from './scripts/geoMap/preprocess'\nimport * as viz from './scripts/geoMap/viz'\nimport * as legend from './scripts/geoMap/legend'\nimport * as tooltip from \"./scripts/geoMap/tooltip\"\n\nimport d3Tip from 'd3-tip'\n\n/**\n * @file This file is the entry-point for the the code for TP3 for the course INF8808.\n * @author Olivia Glinas\n * @version v1.0.0\n */\n\n(function (d3) {\n  const svgSize = {\n    width: 1100,\n    height: 625\n  }\n\n  helper.setCanvasSize(svgSize.width, svgSize.height)\n  helper.generateMapG(svgSize.width, svgSize.height)\n  helper.generateMarkerG(svgSize.width, svgSize.height)\n  helper.initPanelDiv()\n\n  build()\n\n  function build () {\n\n    var projection = helper.getProjection()\n\n    var path = helper.getPath(projection)\n\n    let radiusScale = d3.scaleLinear()\n    let colorScale = d3.scaleLinear()\n     \n    const tip = d3Tip().attr('class', 'd3-tip').html(function (d) { \n      return tooltip.getContents(d)\n    })\n    d3.select('.title-svg').call(tip)\n    \n\n    d3.json('./montreal.json').then(function (data1) {\n      viz.mapBackground(data1, path, viz.showMapLabel)\n\n      d3.csv('./donnees_habitations.csv').then(function(data) {\n        let processed_data = preproc.MapNeighborhood(data)\n        \n        viz.setRadiusScale(radiusScale, processed_data)\n        viz.setColorScale(colorScale, processed_data, [\"#07F907\", \"#0A2BFF\"])\n\n        viz.mapMarkers(radiusScale, colorScale, processed_data, data1[\"features\"], path, tip)\n        legend.drawLegend(radiusScale, colorScale, d3.select('.main-svg'))\n      })\n      \n\n    })\n    \n\n  }\n})(d3);\n"]}