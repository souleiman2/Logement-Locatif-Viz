{"version":3,"sources":["scripts/termesTitre/helper.js","scripts/termesTitre/viz.js","scripts/termesTitre/preprocess.js","scripts/termesTitre/tooltip.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-collection/src/nest.js","../node_modules/d3-collection/src/set.js","../node_modules/d3-collection/src/keys.js","../node_modules/d3-collection/src/values.js","../node_modules/d3-collection/src/entries.js","../node_modules/d3-collection/src/index.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/create.js","../node_modules/d3-selection/src/local.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/point.js","../node_modules/d3-selection/src/mouse.js","../node_modules/d3-selection/src/selectAll.js","../node_modules/d3-selection/src/touch.js","../node_modules/d3-selection/src/touches.js","../node_modules/d3-selection/src/index.js","../node_modules/d3-tip/index.js","indexTitle.js"],"names":["generateG","margin","d3","select","append","attr","left","top","appendAxes","g","appendGraphLabels","xBBox","_groups","getBBox","yBBox","text","width","height","defineColorScale","colors","players","scaleOrdinal","range","domain","setCanvasSize","positionLabels","drawXAxis","xScale","call","axisBottom","drawYAxis","yScale","axisLeft","ticks","updateXScale","scale","data","updateYScale","temp","map","elem","drawBars","y","x","tip","selectAll","enter","bandwidth","on","show","hide","endResult","nbWords","counterWords","cleanTitles","extractTitles","slice","ans","forEach","title","clean_title","toLowerCase","replace","words","trim","split","en_stop_words","fr_stop_words","others","word","hasOwnProperty","Object","entries","includes","push","sort","a","b","getContents","d","prefix","Map","object","f","each","value","key","set","Array","isArray","o","i","n","length","prototype","constructor","has","get","remove","property","clear","keys","values","size","empty","sortValues","rollup","nest","sortKeys","apply","array","depth","createResult","setResult","keyValue","valuesByKey","result","createObject","setObject","createMap","setMap","sortKey","v","k","order","Set","proto","add","xhtml","svg","xlink","xml","xmlns","name","indexOf","namespaces","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","namespace","none","selector","querySelector","groups","m","subgroups","j","node","subnode","group","subgroup","__data__","Selection","_parents","querySelectorAll","selectorAll","parents","matches","match","matcher","update","_enter","sparse","EnterNode","parent","datum","_next","_parent","appendChild","child","insertBefore","next","keyPrefix","bindIndex","exit","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","bind","constant","enterGroup","updateGroup","previous","i0","i1","_exit","onenter","onupdate","onexit","merge","selection","groups0","groups1","m0","m1","Math","min","merges","group0","group1","compareDocumentPosition","parentNode","compare","compareNode","ascending","sortgroups","sortgroup","NaN","callback","arguments","nodes","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","getAttributeNS","getAttribute","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","contains","join","splice","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","create","creator","constantNull","before","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","deep","filterEvents","event","element","mouseenter","mouseleave","filterContextListener","listener","index","contextListener","related","relatedTarget","event1","event0","parseTypenames","typenames","t","type","onRemove","typename","__on","removeEventListener","capture","onAdd","wrap","addEventListener","customEvent","that","args","sourceEvent","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","selection_select","selection_selectAll","filter","selection_filter","selection_data","selection_enter","selection_exit","selection_join","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","classed","selection_classed","selection_text","html","selection_html","selection_raise","selection_lower","selection_append","insert","selection_insert","selection_remove","selection_clone","selection_datum","selection_on","dispatch","selection_dispatch","nextId","Local","_","toString","id","source","current","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","clientTop","changedTouches","touches","identifier","touch","points","direction","offset","rootElement","body","initNode","target","vis","svgNode","tagName","SVGElement","pop","coords","content","poffset","dir","nodel","getNodeEl","directions","scrollTop","scrollLeft","directionCallbacks","functor","destroy","bbox","getScreenBBox","offsetHeight","offsetWidth","s","e","w","nw","ne","sw","se","div","targetShape","targetel","matrix","tbbox","svgSize","graphSize","bounds","right","bottom","scaleLinear","scaleBand","padding","helper","d3Tip","tooltip","csv","autoType","then","words_data","preproc","setSizing","build","viz"],"mappings":"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","file":"indexTitle.1123d25b.js","sourceRoot":"../src","sourcesContent":["\n/**\n * Generates the SVG element g which will contain the data visualisation.\n *\n * @param {object} margin The desired margins around the graph\n * @returns {*} The d3 Selection for the created g element\n */\n export function generateG (margin) {\n  return d3.select('.graph-title')\n    .select('svg')\n    .append('g')\n    .attr('id', 'graph-g-title')\n    .attr('transform',\n      'translate(' + margin.left + ',' + margin.top + ')')\n}\n\n/**\n * Appends an SVG g element which will contain the y axis.\n *\n * @param {*} g The d3 Selection of the graph's g SVG element\n */\nexport function appendAxes (g) {\n  g.append('g')\n    .attr('class', 'x axis-title')\n\n  g.append('g')\n    .attr('class', 'y axis-title')\n}\n/**\n * Appends the labels for the the y axis and the title of the graph.\n *\n * @param {*} g The d3 Selection of the graph's g SVG element\n */\nexport function appendGraphLabels (g) {\n\n  let xBBox = d3.select(\".x.axis-title\")._groups[0][0].getBBox()\n  let yBBox = d3.select(\".x.axis-title\")._groups[0][0].getBBox()\n\n  g.append('text')\n    .text('Words')\n    .attr('class', 'y axis-text ab')\n    .attr('transform', `rotate(-90) translate(-${(yBBox.width/4)}, -70)`)\n    .attr('fill', '#898989')\n    .attr('font-size', 12)\n\n  g.append('text')\n    .text(\"Nombre d'occurences des mots les plus utilisés dans les annonces de locations\")\n    .attr(\"transform\", `translate(${xBBox.width/2}, 0)`)\n    .attr('class', 'title titles')\n    .attr('fill', '#898989')\n\n    d3.select(\".x.axis-title\").append('text')\n    .text('Occurence')\n    .attr('class', 'x axis-text ab')\n    .attr(\"transform\", `translate(${xBBox.width/2}, ${xBBox.height + 15})`)\n    .attr('fill', '#898989')\n    .attr('font-size', 12)\n}\n\n/**\n * Defines the color scale used in the graph.\n *\n * @param {string[]} colors A sorted array of color hex strings to be used\n * @param {string[]} players A sorted array of player names to use as the domain\n * @returns {*} The color scale to be used inthe graph\n */\nexport function defineColorScale (colors, players) {\n  return d3.scaleOrdinal().range(colors).domain(players)\n}\n\n/**\n * Sets the size of the SVG canvas containing the graph.\n *\n * @param {number} width The desired width\n * @param {number} height The desired height\n */\nexport function setCanvasSize (width, height) {\n  d3.select('#bar-chart-title').select('svg')\n    .attr('width', width)\n    .attr('height', height)\n}\n\n/**\n * Positions the x axis label, y axis label and title label on the graph.\n *\n * @param {number} width The width of the graph\n * @param {number} height The height of the graph\n */\nexport function positionLabels (width, height) {\n  d3.select('.y.axis-text.ab')\n    .attr('x', -70)\n    .attr('y', height / 2)\n\n  d3.select('.title.titles')\n    .attr('x', width / 2)\n    .attr('y', -35)\n}\n\n/**\n * Draws the x axis at the bottom of the plot.\n *\n * @param {*} xScale The scale to use for the x axis\n * @param {number} height The height of the graph\n */\nexport function drawXAxis (xScale, height) {\n  d3.select('.x.axis-title')\n    .attr('transform', 'translate(0, ' + height + ')')\n    .call(d3.axisBottom(xScale))\n}\n\n/**\n * Draws the y axis at the left of the plot.\n *\n * @param {*} yScale The scale to use for the y axis\n */\nexport function drawYAxis (yScale) {\n  d3.select('.y.axis-title').call(d3.axisLeft(yScale).ticks(5))\n}\n","/**\n * Sets the domain and range of the X scale.\n *\n * @param {*} scale The x scale\n * @param {object[]} data The data to be used\n * @param {number} width The width of the graph\n */\n export function updateXScale (scale, data, width) {\n  // TODO : Set the domain and range of the groups' x scale\n  scale.domain([0, data[0][1]]).range([0, width])\n}\n\n/**\n * Sets the domain and range of the Y scale.\n *\n * @param {*} scale The Y scale\n * @param {object[]} data The data to be used\n * @param {number} height The height of the graph\n */\nexport function updateYScale (scale, data, height) {\n  // TODO : Set the domain and range of the graph's y scale\n  let temp = data.map(elem => elem[0])\n  scale.domain(temp).range([0, height]);\n}\n\n/**\n * Draws the bars inside the groups\n *\n * @param {*} y The graph's y scale\n * @param {*} x The graph's x scale\n * @param {*} data The data to be used\n * @param {*} tip The tooltip to show when each bar is hovered and hide when it's not\n */\n export function drawBars (y, x, data, tip) {\n  // TODO : Draw the bars\n  const rect = d3.select('#graph-g-title')\n                .selectAll('.rect')\n                .data(data)\n                .enter()\n                .append('rect')\n  \n  rect.attr('fill', '#800022')\n      .attr('height', y.bandwidth())\n      .attr('width', (elem) => x(elem[1]))\n      .attr('y', (elem) => y(elem[0]))\n      .attr('x', 0)\n      .on('mouseover', tip.show)\n      .on('mouseout', tip.hide)\n\n}\n","/**\n * This function will return a list of the most common relavant words in the title with their occurences\n * \n * @param {object[]} data The dataset to process\n * @returns {object[]} The dataset that represents the words with their occurences in descending order of occurence\n * \n */\nexport function endResult(data, nbWords){\n  let extracted_titles = extractTitles(data)\n  let cleaned_titles = cleanTitles(extracted_titles)\n  let counter_words = counterWords(cleaned_titles)\n  return counter_words.slice(0, nbWords)\n}\n\n\n/**\n * This function will only get the titles of the dataset\n * \n * @param {object[]} data The dataset to process\n * @returns {string[]} All the titles in a list\n * \n */\nfunction extractTitles(data){\n  return data.map(x => x[\"title\"])\n}\n\n/**\n * This function will seperate the different words and will filter the elements that we do not wish to retain \n * (such as punctuation, numbers, stopwords)\n * \n * @param {string[]} data The dataset to process\n * @returns {string[]} All the titles in a list\n * \n */\nfunction cleanTitles(data){\n  let ans = []\n  data.forEach((title) => {\n    title = title.toLowerCase()\n    let clean_title = title.replace(/[.,\\/#!$%\\^&\\*|+-;:–{}=\\-_`~()0-9]/g,\"\") // remove punctuation and numbers\n    clean_title = clean_title.replace(/\\s+/g, ' ').trim() // remove double spaces\n    let words = clean_title.split(\" \")\n    ans = [...ans, ...words]\n  })\n  return ans\n}\n\n/**\n * This function will take the cleaned words and will count all of the words and put them in descending order.\n * This will also remove the stopwords\n * \n * @param {string[]} data All the relavant words of the titles\n * @returns {object[]} The Counter version of the data\n * \n */\nfunction counterWords(data){\n  const en_stop_words = ['a', 'about', 'above', 'after', 'again', 'against', 'all', 'am', 'an', 'and', 'any', 'are', \"aren't\", 'as', 'at', 'be', 'because', 'been', 'before', 'being', 'below', 'between', 'both', 'but', 'by', \"can't\", 'cannot', 'could', \"couldn't\", 'did', \"didn't\", 'do', 'does', \"doesn't\", 'doing', \"don't\", 'down', 'during', 'each', 'few', 'for', 'from', 'further', 'had', \"hadn't\", 'has', \"hasn't\", 'have', \"haven't\", 'having', 'he', \"he'd\", \"he'll\", \"he's\", 'her', 'here', \"here's\", 'hers', 'herself', 'him', 'himself', 'his', 'how', \"how's\", 'i', \"i'd\", \"i'll\", \"i'm\", \"i've\", 'if', 'in', 'into', 'is', \"isn't\", 'it', \"it's\", 'its', 'itself', \"let's\", 'me', 'more', 'most', \"mustn't\", 'my', 'myself', 'no', 'nor', 'not', 'of', 'off', 'on', 'once', 'only', 'or', 'other', 'ought', 'our', 'ours\\tourselves', 'out', 'over', 'own', 'same', \"shan't\", 'she', \"she'd\", \"she'll\", \"she's\", 'should', \"shouldn't\", 'so', 'some', 'such', 'than', 'that', \"that's\", 'the', 'their', 'theirs', 'them', 'themselves', 'then', 'there', \"there's\", 'these', 'they', \"they'd\", \"they'll\", \"they're\", \"they've\", 'this', 'those', 'through', 'to', 'too', 'under', 'until', 'up', 'very', 'was', \"wasn't\", 'we', \"we'd\", \"we'll\", \"we're\", \"we've\", 'were', \"weren't\", 'what', \"what's\", 'when', \"when's\", 'where', \"where's\", 'which', 'while', 'who', \"who's\", 'whom', 'why', \"why's\", 'with', \"won't\", 'would', \"wouldn't\", 'you', \"you'd\", \"you'll\", \"you're\", \"you've\", 'your', 'yours', 'yourself', 'yourselves']\n  const fr_stop_words = ['à', 'de', 'alors', 'au', 'aucuns', 'aussi', 'autre', 'avant', 'avec', 'avoir', 'bon', 'car', 'ce', 'cela', 'ces', 'ceux', 'chaque', 'ci', 'comme', 'comment', 'dans', 'des', 'du', 'dedans', 'dehors', 'depuis', 'devrait', 'doit', 'donc', 'dos', 'début', 'elle', 'elles', 'en', 'encore', 'essai', 'est', 'et', 'eu', 'fait', 'faites', 'fois', 'font', 'hors', 'ici', 'il', 'ils', 'je\\tjuste', 'la', 'le', 'les', 'leur', 'là', 'ma', 'maintenant', 'mais', 'mes', 'mien', 'moins', 'mon', 'mot', 'même', 'ni', 'nommés', 'notre', 'nous', 'ou', 'où', 'par', 'parce', 'pas', 'peut', 'peu', 'plupart', 'pour', 'pourquoi', 'quand', 'que', 'quel', 'quelle', 'quelles', 'quels', 'qui', 'sa', 'sans', 'ses', 'seulement', 'si', 'sien', 'son', 'sont', 'sous', 'soyez\\tsujet', 'sur', 'ta', 'tandis', 'tellement', 'tels', 'tes', 'ton', 'tous', 'tout', 'trop', 'très', 'tu', 'voient', 'vont', 'votre', 'vous', 'vu', 'ça', 'étaient', 'état', 'étions', 'été', 'être']\n  const others = [\"½\", \"er\", \"id\", \"e\", \"ndg\"]\n\n\n  let temp = {}\n  data.forEach(word => {\n    temp[word] = temp.hasOwnProperty(word) ? temp[word] + 1  : 1\n  })\n  let ans = []\n  for (const elem of Object.entries(temp)) {\n    \n    if(!(en_stop_words.includes(elem[0]) || fr_stop_words.includes(elem[0]) || others.includes(elem[0]))){\n      ans.push(elem)\n    }\n  }\n  ans.sort(function(a,b){\n    return b[1] - a[1] \n  })\n\n  return ans\n}","/**\n * Defines the contents of the tooltip.\n *\n * @param {object} d The data associated to the hovered element\n * @returns {string} The tooltip contents\n */\nexport function getContents (d) {\n  /* TODO : Define and return the tooltip contents including :\n      + A title stating the hovered element's group, with:\n        - Font family: Grenze Gotish\n        - Font size: 24px\n        - Font weigth: normal\n      + A bold label for the player name followed\n        by the hovered elements's player's name\n      + A bold label for the player's line count\n        followed by the number of lines\n  */\n  return `<div style='font-weight:normal'>\n            <b>Occurence :</b> ${d[1]}<br/>\n          </div>`\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n","export default function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n","export default function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n","export {default as nest} from \"./nest\";\nexport {default as set} from \"./set\";\nexport {default as map} from \"./map\";\nexport {default as keys} from \"./keys\";\nexport {default as values} from \"./values\";\nexport {default as entries} from \"./entries\";\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","export {default as create} from \"./create\";\nexport {default as creator} from \"./creator\";\nexport {default as local} from \"./local\";\nexport {default as matcher} from \"./matcher\";\nexport {default as mouse} from \"./mouse\";\nexport {default as namespace} from \"./namespace\";\nexport {default as namespaces} from \"./namespaces\";\nexport {default as clientPoint} from \"./point\";\nexport {default as select} from \"./select\";\nexport {default as selectAll} from \"./selectAll\";\nexport {default as selection} from \"./selection/index\";\nexport {default as selector} from \"./selector\";\nexport {default as selectorAll} from \"./selectorAll\";\nexport {styleValue as style} from \"./selection/style\";\nexport {default as touch} from \"./touch\";\nexport {default as touches} from \"./touches\";\nexport {default as window} from \"./window\";\nexport {event, customEvent} from \"./selection/on\";\n","/**\n * d3.tip\n * Copyright (c) 2013-2017 Justin Palmer\n *\n * Tooltips for d3.js SVG visualizations\n */\n// eslint-disable-next-line no-extra-semi\nimport { map } from 'd3-collection'\nimport { selection, select } from 'd3-selection'\n// Public - constructs a new tooltip\n//\n// Returns a tip\nexport default function() {\n  var direction   = d3TipDirection,\n      offset      = d3TipOffset,\n      html        = d3TipHTML,\n      rootElement = document.body,\n      node        = initNode(),\n      svg         = null,\n      point       = null,\n      target      = null\n\n  function tip(vis) {\n    svg = getSVGNode(vis)\n    if (!svg) return\n    point = svg.createSVGPoint()\n    rootElement.appendChild(node)\n  }\n\n  // Public - show the tooltip on the screen\n  //\n  // Returns a tip\n  tip.show = function() {\n    var args = Array.prototype.slice.call(arguments)\n    if (args[args.length - 1] instanceof SVGElement) target = args.pop()\n\n    var content = html.apply(this, args),\n        poffset = offset.apply(this, args),\n        dir     = direction.apply(this, args),\n        nodel   = getNodeEl(),\n        i       = directions.length,\n        coords,\n        scrollTop  = document.documentElement.scrollTop ||\n      rootElement.scrollTop,\n        scrollLeft = document.documentElement.scrollLeft ||\n      rootElement.scrollLeft\n\n    nodel.html(content)\n      .style('opacity', 1).style('pointer-events', 'all')\n\n    while (i--) nodel.classed(directions[i], false)\n    coords = directionCallbacks.get(dir).apply(this)\n    nodel.classed(dir, true)\n      .style('top', (coords.top + poffset[0]) + scrollTop + 'px')\n      .style('left', (coords.left + poffset[1]) + scrollLeft + 'px')\n\n    return tip\n  }\n\n  // Public - hide the tooltip\n  //\n  // Returns a tip\n  tip.hide = function() {\n    var nodel = getNodeEl()\n    nodel.style('opacity', 0).style('pointer-events', 'none')\n    return tip\n  }\n\n  // Public: Proxy attr calls to the d3 tip container.\n  // Sets or gets attribute value.\n  //\n  // n - name of the attribute\n  // v - value of the attribute\n  //\n  // Returns tip or attribute value\n  // eslint-disable-next-line no-unused-vars\n  tip.attr = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().attr(n)\n    }\n\n    var args =  Array.prototype.slice.call(arguments)\n    selection.prototype.attr.apply(getNodeEl(), args)\n    return tip\n  }\n\n  // Public: Proxy style calls to the d3 tip container.\n  // Sets or gets a style value.\n  //\n  // n - name of the property\n  // v - value of the property\n  //\n  // Returns tip or style property value\n  // eslint-disable-next-line no-unused-vars\n  tip.style = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().style(n)\n    }\n\n    var args = Array.prototype.slice.call(arguments)\n    selection.prototype.style.apply(getNodeEl(), args)\n    return tip\n  }\n\n  // Public: Set or get the direction of the tooltip\n  //\n  // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n  //     sw(southwest), ne(northeast) or se(southeast)\n  //\n  // Returns tip or direction\n  tip.direction = function(v) {\n    if (!arguments.length) return direction\n    direction = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: Sets or gets the offset of the tip\n  //\n  // v - Array of [x, y] offset\n  //\n  // Returns offset or\n  tip.offset = function(v) {\n    if (!arguments.length) return offset\n    offset = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the html value of the tooltip\n  //\n  // v - String value of the tip\n  //\n  // Returns html value or tip\n  tip.html = function(v) {\n    if (!arguments.length) return html\n    html = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the root element anchor of the tooltip\n  //\n  // v - root element of the tooltip\n  //\n  // Returns root node of tip\n  tip.rootElement = function(v) {\n    if (!arguments.length) return rootElement\n    rootElement = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: destroys the tooltip and removes it from the DOM\n  //\n  // Returns a tip\n  tip.destroy = function() {\n    if (node) {\n      getNodeEl().remove()\n      node = null\n    }\n    return tip\n  }\n\n  function d3TipDirection() { return 'n' }\n  function d3TipOffset() { return [0, 0] }\n  function d3TipHTML() { return ' ' }\n\n  var directionCallbacks = map({\n        n:  directionNorth,\n        s:  directionSouth,\n        e:  directionEast,\n        w:  directionWest,\n        nw: directionNorthWest,\n        ne: directionNorthEast,\n        sw: directionSouthWest,\n        se: directionSouthEast\n      }),\n      directions = directionCallbacks.keys()\n\n  function directionNorth() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.n.y - node.offsetHeight,\n      left: bbox.n.x - node.offsetWidth / 2\n    }\n  }\n\n  function directionSouth() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.s.y,\n      left: bbox.s.x - node.offsetWidth / 2\n    }\n  }\n\n  function directionEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.e.y - node.offsetHeight / 2,\n      left: bbox.e.x\n    }\n  }\n\n  function directionWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.w.y - node.offsetHeight / 2,\n      left: bbox.w.x - node.offsetWidth\n    }\n  }\n\n  function directionNorthWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.nw.y - node.offsetHeight,\n      left: bbox.nw.x - node.offsetWidth\n    }\n  }\n\n  function directionNorthEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.ne.y - node.offsetHeight,\n      left: bbox.ne.x\n    }\n  }\n\n  function directionSouthWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.sw.y,\n      left: bbox.sw.x - node.offsetWidth\n    }\n  }\n\n  function directionSouthEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.se.y,\n      left: bbox.se.x\n    }\n  }\n\n  function initNode() {\n    var div = select(document.createElement('div'))\n    div\n      .style('position', 'absolute')\n      .style('top', 0)\n      .style('opacity', 0)\n      .style('pointer-events', 'none')\n      .style('box-sizing', 'border-box')\n\n    return div.node()\n  }\n\n  function getSVGNode(element) {\n    var svgNode = element.node()\n    if (!svgNode) return null\n    if (svgNode.tagName.toLowerCase() === 'svg') return svgNode\n    return svgNode.ownerSVGElement\n  }\n\n  function getNodeEl() {\n    if (node == null) {\n      node = initNode()\n      // re-add node to DOM\n      rootElement.appendChild(node)\n    }\n    return select(node)\n  }\n\n  // Private - gets the screen coordinates of a shape\n  //\n  // Given a shape on the screen, will return an SVGPoint for the directions\n  // n(north), s(south), e(east), w(west), ne(northeast), se(southeast),\n  // nw(northwest), sw(southwest).\n  //\n  //    +-+-+\n  //    |   |\n  //    +   +\n  //    |   |\n  //    +-+-+\n  //\n  // Returns an Object {n, s, e, w, nw, sw, ne, se}\n  function getScreenBBox(targetShape) {\n    var targetel   = target || targetShape\n\n    while (targetel.getScreenCTM == null && targetel.parentNode != null) {\n      targetel = targetel.parentNode\n    }\n\n    var bbox       = {},\n        matrix     = targetel.getScreenCTM(),\n        tbbox      = targetel.getBBox(),\n        width      = tbbox.width,\n        height     = tbbox.height,\n        x          = tbbox.x,\n        y          = tbbox.y\n\n    point.x = x\n    point.y = y\n    bbox.nw = point.matrixTransform(matrix)\n    point.x += width\n    bbox.ne = point.matrixTransform(matrix)\n    point.y += height\n    bbox.se = point.matrixTransform(matrix)\n    point.x -= width\n    bbox.sw = point.matrixTransform(matrix)\n    point.y -= height / 2\n    bbox.w = point.matrixTransform(matrix)\n    point.x += width\n    bbox.e = point.matrixTransform(matrix)\n    point.x -= width / 2\n    point.y -= height / 2\n    bbox.n = point.matrixTransform(matrix)\n    point.y += height\n    bbox.s = point.matrixTransform(matrix)\n\n    return bbox\n  }\n\n  // Private - replace D3JS 3.X d3.functor() function\n  function functor(v) {\n    return typeof v === 'function' ? v : function() {\n      return v\n    }\n  }\n\n  return tip\n}\n","import * as helper from './scripts/termesTitre/helper'\nimport * as viz from './scripts/termesTitre/viz'\nimport * as preproc from \"./scripts/termesTitre/preprocess\"\nimport * as tooltip from \"./scripts/termesTitre/tooltip\"\n\nimport d3Tip from 'd3-tip'\n\n/**\n * @file This file is the entry-point for the the code for TP3 for the course INF8808.\n * @author Olivia Gélinas\n * @version v1.0.0\n */\n\n(function (d3) {\n  const margin = { top: 50, right: 0, bottom: 50, left: 75 }\n  let svgSize, graphSize, bounds;\n\n  const xScale = d3.scaleLinear()\n  const yScale = d3.scaleBand().padding(0.5)\n  const nbWords = 30\n  const g = helper.generateG(margin)\n  \n  helper.appendAxes(g)\n\n  const tip = d3Tip().attr('class', 'd3-tip').html(function (d) { \n    return tooltip.getContents(d)\n  })\n  d3.select('.title-svg').call(tip)\n\n  d3.csv(\"Logement-Locatif-Viz/donnees_habitations.csv\", d3.autoType).then(function (data) {\n    \n\n    const words_data = preproc.endResult(data, nbWords)\n\n    setSizing();\n    build();\n    helper.appendGraphLabels(g)\n\n    function setSizing() {\n      bounds = d3.select('.graph-title').node().getBoundingClientRect()\n      svgSize = {\n        width: bounds.width,\n        height: 700\n      }\n\n      graphSize = {\n        width: svgSize.width - margin.right - margin.left,\n        height: svgSize.height - margin.bottom - margin.top,\n      };\n\n      helper.setCanvasSize(svgSize.width, svgSize.height)\n    }\n    function build() {\n      helper.positionLabels(graphSize.width, graphSize.height);\n      \n      viz.updateXScale(xScale, words_data, graphSize.width);\n      viz.updateYScale(yScale, words_data, graphSize.height);\n\n      helper.drawXAxis(xScale, graphSize.height);\n      helper.drawYAxis(yScale);\n\n      viz.drawBars(yScale, xScale, words_data, tip)\n    }\n\n    window.addEventListener(\"resize\", () => {\n      setSizing();\n      build();\n    });\n  });\n})(d3);\n"]}