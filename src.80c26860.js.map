{"version":3,"sources":["scripts/fluctCout/helper.js","scripts/fluctCout/scales.js","scripts/fluctCout/viz.js","scripts/fluctCout/tooltip.js","scripts/fluctCout/preprocess.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-collection/src/nest.js","../node_modules/d3-collection/src/set.js","../node_modules/d3-collection/src/keys.js","../node_modules/d3-collection/src/values.js","../node_modules/d3-collection/src/entries.js","../node_modules/d3-collection/src/index.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/create.js","../node_modules/d3-selection/src/local.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/point.js","../node_modules/d3-selection/src/mouse.js","../node_modules/d3-selection/src/selectAll.js","../node_modules/d3-selection/src/touch.js","../node_modules/d3-selection/src/touches.js","../node_modules/d3-selection/src/index.js","../node_modules/d3-tip/index.js","scripts/fluctCout/build.js","scripts/fluctCoutParType/helper.js","scripts/fluctCoutParType/scales.js","scripts/fluctCoutParType/viz.js","scripts/fluctCoutParType/preprocess.js","scripts/fluctCoutParType/tooltip.js","scripts/fluctCoutParType/legend.js","scripts/fluctCoutParType/build.js","index.js"],"names":["generateG","margin","d3","select","append","attr","left","top","setCanvasSize","width","height","appendAxes","g","appendGraphLabels","text","drawXAxis","xScale","call","axisBottom","tickSizeOuter","drawYAxis","yScale","axisLeft","tickArguments","placeTitle","setRadiusScale","data","slice","length","total_maxi","Infinity","total_mini","i","scaleLinear","domain","range","setColorScale","continent","POSSIBLE_CONTINENT","POSSIBLE_COLORS","schemeCategory10","setXScale","scaleBand","setYScale","months","positionLabels","X_TRANSLATION","ROTATION","toString","drawCircles","rScale","tip","offset","node","getBoundingClientRect","selectAll","remove","enter","d","total","setCircleHoverHandler","on","show","hide","moveCircles","transition","ease","easeLinear","indexOf","price","setTitleText","title","getContents","Math","round","getHouseTypes","unitype","Array","forEach","listing","includes","push","month","getMonthsRange","max","min","dateavailable","getYear","getMonth","getAveragePricePerHouseTypePerMonth","arr","price_count","index","obj","map","Map","setHours","getHours","has","getFullYear","get","count","sum","set","prefix","object","f","each","value","key","isArray","o","n","prototype","constructor","property","clear","keys","values","entries","size","empty","sortValues","rollup","nest","sortKeys","apply","array","depth","createResult","setResult","sort","keyValue","valuesByKey","result","createObject","setObject","createMap","setMap","sortKey","v","k","a","b","order","Set","proto","add","xhtml","svg","xlink","xml","xmlns","name","namespaces","hasOwnProperty","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","namespace","none","selector","querySelector","groups","_groups","m","subgroups","j","subnode","group","subgroup","__data__","Selection","_parents","querySelectorAll","selectorAll","parents","matches","match","matcher","update","_enter","sparse","EnterNode","parent","datum","_next","_parent","appendChild","child","insertBefore","next","x","keyPrefix","bindIndex","exit","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","bind","constant","enterGroup","updateGroup","previous","i0","i1","_exit","onenter","onupdate","onexit","merge","selection","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","parentNode","compare","compareNode","ascending","sortgroups","sortgroup","NaN","callback","arguments","nodes","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","getAttributeNS","getAttribute","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","trim","split","classList","ClassList","_node","_names","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","contains","join","splice","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","create","creator","constantNull","before","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","deep","filterEvents","event","element","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","event1","event0","parseTypenames","typenames","t","type","onRemove","typename","__on","removeEventListener","capture","onAdd","wrap","addEventListener","customEvent","that","args","sourceEvent","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","selection_select","selection_selectAll","filter","selection_filter","selection_data","selection_enter","selection_exit","selection_join","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","classed","selection_classed","selection_text","html","selection_html","selection_raise","selection_lower","selection_append","insert","selection_insert","selection_remove","selection_clone","selection_datum","selection_on","dispatch","selection_dispatch","nextId","Local","_","id","source","current","ownerSVGElement","createSVGPoint","point","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","rect","clientLeft","clientTop","changedTouches","touches","identifier","touch","points","direction","rootElement","body","initNode","target","vis","svgNode","tagName","toLowerCase","SVGElement","pop","coords","content","poffset","dir","nodel","getNodeEl","directions","scrollTop","scrollLeft","directionCallbacks","functor","destroy","bbox","getScreenBBox","offsetHeight","offsetWidth","s","e","w","nw","ne","sw","se","div","targetShape","targetel","matrix","tbbox","getBBox","build","preproc","svgSize","graphSize","right","bottom","helper","d3Tip","tooltip","viz","radiusScale","scales","Object","drawLines","XScale","appart","condos","duplex","house","line","defined","drawLegend","legend","getElementsByName","checked","csv","autoType","then","FluctBuilder","FluctTypeBuilder"],"mappings":"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","file":"src.80c26860.js","sourceRoot":"../src","sourcesContent":["\n/**\n * Generates the SVG element g which will contain the data visualisation.\n *\n * @param {object} margin The desired margins around the graph\n * @returns {*} The d3 Selection for the created g element\n */\nexport function generateG (margin) {\n  return d3.select('.graph-bubble')\n    .select('svg')\n    .append('g')\n    .attr('id', 'graph-g-bubble')\n    .attr('transform',\n      'translate(' + margin.left + ',' + margin.top + ')')\n}\n\n/**\n * Sets the size of the SVG canvas containing the graph.\n *\n * @param {number} width The desired width\n * @param {number} height The desired height\n */\nexport function setCanvasSize (width, height) {\n  d3.select('#bubble-chart')\n    .attr('width', width)\n    .attr('height', height)\n}\n\n/**\n * Appends an SVG g element which will contain the axes.\n *\n * @param {*} g The d3 Selection of the graph's g SVG element\n */\nexport function appendAxes (g) {\n  g.append('g')\n    .attr('class', 'x axis bubble')\n\n  g.append('g')\n    .attr('class', 'y axis bubble')\n}\n/**\n * Appends the labels for the the y axis and the title of the graph.\n *\n * @param {*} g The d3 Selection of the graph's g SVG element\n */\nexport function appendGraphLabels (g) {\n  g.append('text')\n    .text('prix moyen des propriétés ($)')\n    .attr('class', 'y axis-text')\n    .attr('font-size', 15)\n\n  g.append('text')\n    .text('Mois')\n    .attr('class', 'x axis-text')\n    .attr('font-size', 15)\n}\n\n/**\n * Draws the X axis at the bottom of the diagram.\n *\n * @param {*} xScale The scale to use to draw the axis\n * @param {number} height The height of the graphic\n */\nexport function drawXAxis (xScale, height) {\n  d3.select('.x.axis.bubble')\n    .attr('transform', 'translate( 0, ' + height + ')')\n    .call(d3.axisBottom(xScale).tickSizeOuter(0))\n}\n\n/**\n * Draws the Y axis to the left of the diagram.\n *\n * @param {*} yScale The scale to use to draw the axis\n */\nexport function drawYAxis (yScale) {\n  d3.select('.y.axis.bubble')\n    .call(d3.axisLeft(yScale).tickSizeOuter(0).tickArguments([5]))\n}\n\n/**\n * Places the graph's title.\n *\n * @param {*} g The d3 Selection of the graph's g SVG element\n */\nexport function placeTitle (g) {\n  g.append('text')\n    .attr('class', 'title-bubble')\n    .attr('x', 0)\n    .attr('y', -20)\n    .attr('font-size', 14)\n}\n\n","/**\n * Defines the scale to use for the circle markers' radius.\n *\n * The radius of the circle is linearly proportinal to the population of the given country.\n *\n * The radius is a value defined in the interval [5, 20].\n *\n * @param {object} data The data to be displayed\n * @returns {*} The linear scale used to determine the radius\n */\nexport function setRadiusScale (data) {\n  // TODO : Set scale\n  const MAXI = 30\n  const MINI = 5\n\n  data = data.slice(6, data.length - 2);\n\n  let total_maxi = -Infinity\n  let total_mini = Infinity\n\n  for(let i = 0; i < data.length; i++){\n    if(data[i][\"total\"] > total_maxi){\n      total_maxi = data[i][\"total\"]\n    }\n    if(data[i][\"total\"] < total_mini){\n      total_mini = data[i][\"total\"]\n    }\n  }\n  return d3.scaleLinear().domain([total_mini, total_maxi]).range([MINI, MAXI])\n}\n\n/**\n * Defines the color scale used to determine the color of the circle markers.\n *\n * The color of each circle is determined based on the continent of the country it represents.\n *\n * The possible colors are determined by the scheme d3.schemeCategory10.\n *\n * @returns {Function} The ordinal scale used to determine the color\n */\nexport function setColorScale () {\n  // TODO : Set scale\n  \n  let colorScale = (continent) => {\n    const POSSIBLE_CONTINENT = [\"Africa\", \"Asia\", \"Europe\",\"North America\", \"Oceania\", \"South America\"]\n    const POSSIBLE_COLORS = d3.schemeCategory10\n    for(let i = 0; i < POSSIBLE_CONTINENT.length; i++){\n      if(continent === POSSIBLE_CONTINENT[i]){\n        return POSSIBLE_COLORS[i]\n      }\n    }\n\n    return POSSIBLE_COLORS[POSSIBLE_CONTINENT.length]\n  }\n\n  return colorScale\n}\n\n/**\n * Defines the X scale.\n *\n * @param {number} width The width of the graph\n * @param {object} data The data to be used\n * @returns {*} The linear scale in X\n */\nexport function setXScale (width) {\n  const months = [\"Jan 20\", \"Fev 20\", \"Mar 20\", \"Avr 20\", \"Mai 20\", \"Jun 20\", \"Jui 20\", \"Aou 20\", \"Sep 20\", \"Oct 20\", \"Nov 20\", \"Dec 20\",\n  \"Jan 21\", \"Fev 21\", \"Mar 21\", \"Avr 21\", \"Mai 21\", \"Jun 21\", \"Jui 21\", \"Aou 21\", \"Sep 21\", \"Oct 21\", \"Nov 21\", \"Dec 21\"];\n  return d3.scaleBand().domain(months).range([0, width])\n}\n\n/**\n * Defines the Y scale.\n *\n * @param {number} height The height of the graph\n * @param {object} data The data to be used\n * @returns {*} The linear scale in Y\n */\nexport function setYScale (height, data) {\n  \n  let total_maxi = -Infinity\n  let total_mini = Infinity\n\n  for(let i = 0; i < data.length; i++){\n    if(data[i][\"price\"] > total_maxi){\n      total_maxi = data[i][\"price\"]\n    }\n    if(data[i][\"price\"] < total_mini){\n      total_mini = data[i][\"price\"]\n    }\n  }\n  return d3.scaleLinear().domain([total_mini, total_maxi]).range([height, 0])\n  \n}\n","/**\n * Positions the x axis label and y axis label.\n *\n * @param {*} g The d3 Selection of the graph's g SVG element\n * @param {number} width The width of the graph\n * @param {number} height The height of the graph\n */\n\n var months = [\"Jan 20\", \"Fev 20\", \"Mar 20\", \"Avr 20\", \"Mai 20\", \"Jun 20\", \"Jui 20\", \"Aou 20\", \"Sep 20\", \"Oct 20\", \"Nov 20\", \"Dec 20\",\n \"Jan 21\", \"Fev 21\", \"Mar 21\", \"Avr 21\", \"Mai 21\", \"Jun 21\", \"Jui 21\", \"Aou 21\", \"Sep 21\", \"Oct 21\", \"Nov 21\", \"Dec 21\"];\n\nexport function positionLabels (g, width, height) {\n  // TODO : Position axis labels\n  let y_label = g.select('.y.axis-text')\n  const ROTATION = -90\n  const X_TRANSLATION = -50\n  const HEIGHT_OFFSET = 40\n  y_label.attr('transform', `translate(${X_TRANSLATION}, ${height/2}) rotate(${ROTATION})`)\n\n  let x_label = g.select('.x.axis-text')\n  x_label.attr('transform', `translate(${(width/2).toString()}, ${height + HEIGHT_OFFSET})`)\n  \n}\n\n/**\n * Draws the circles on the graph.\n *\n * @param {object} data The data to bind to\n * @param {*} rScale The scale for the circles' radius\n * @param {*} colorScale The scale for the circles' color\n */\nexport function drawCircles (data, rScale, tip) {\n  // TODO : Draw the bubble chart's circles\n  // Each circle's size depends on its population\n  // and each circle's color depends on its continent.\n  // The fill opacity of each circle is 70%\n  // The outline of the circles is white\n\n  const PARTIAL_OPACITY = 0.7\n  const MARGIN = 75\n  \n  let g = d3.select('#graph-g-bubble')\n  let offset = d3.select('.x.axis.bubble').node().getBoundingClientRect().height\n  let height = g.node().getBoundingClientRect().height - offset\n\n  d3.selectAll(\".circles\").remove()\n\n  g.selectAll()\n    .data(data)\n    .enter()\n    .append(\"circle\")\n    .attr('cx', 0)\n    .attr('cy', height-MARGIN)\n    .attr('r', d => rScale(d.total))\n    .attr('stroke', 'black')\n    .attr(\"opacity\", PARTIAL_OPACITY)\n    .attr('class', \"circles-bubble\")\n    .attr('fill', d => '#e377c2');\n\n  setCircleHoverHandler(tip)\n  \n  \n}\n\n/**\n * Sets up the hover event handler. The tooltip should show on on hover.\n *\n * @param {*} tip The tooltip\n */\nexport function setCircleHoverHandler (tip) {\n  // TODO : Set hover handler. The tooltip shows on\n  // hover and the opacity goes up to 100% (from 70%)\n  const FULL_OPACITY = 1\n  const PARTIAL_OPACITY = 0.7\n\n  d3.selectAll(\".circles-bubble\")\n    .on('mouseover', function(d){\n      d3.select(this).attr(\"opacity\", FULL_OPACITY)\n      tip.show(d, this)\n    })\n    .on('mouseout', function(d){\n      d3.select(this).attr(\"opacity\", PARTIAL_OPACITY)\n      tip.hide(d, this)\n    })\n}\n\n\n/**\n * Updates the position of the circles based on their bound data. The position\n * transitions gradually.\n *\n * @param {*} xScale The x scale used to position the circles\n * @param {*} yScale The y scale used to position the circles\n * @param {number} transitionDuration The duration of the transition\n */\nexport function moveCircles (xScale, yScale, data) {\n  // TODO : Set up the transition and place the circle centers\n  // in x and y according to their GDP and CO2 respectively\n  d3.select('#graph-g-bubble')\n    .selectAll('circle')\n    .transition()\n    .ease(d3.easeLinear)\n    .attr(\"cx\", d => (xScale(months[data.indexOf(d)]) + 28))\n    .attr(\"cy\", d => yScale(d.price))\n\n}\n\nexport function setTitleText (title) {\n  // TODO : Set the title\n  const FONT_SIZE = 14\n  const MARGIN = 10\n\n  let g = d3.select('#graph-g-bubble')\n\n\n  g.append('text')\n    .text(title.toString())\n    .attr('id', 'title-bubble')\n    .attr('transform', 'translate(0, -'+ MARGIN.toString() +')')\n    .attr('font-size', FONT_SIZE)\n    .attr('font-weight', \"bolder\")\n  \n}\n","/**\n * Defines the contents of the tooltip. See CSS for tooltip styling. The tooltip\n * features the country name, population, GDP, and CO2 emissions, preceded\n * by a label and followed by units where applicable.\n *\n * @param {object} d The data associated to the hovered element\n * @returns {string} The tooltip contents\n */\n\n var months = [\"Jan 20\", \"Fev 20\", \"Mar 20\", \"Avr 20\", \"Mai 20\", \"Jun 20\", \"Jui 20\", \"Aou 20\", \"Sep 20\", \"Oct 20\", \"Nov 20\", \"Dec 20\",\n \"Jan 21\", \"Fev 21\", \"Mar 21\", \"Avr 21\", \"Mai 21\", \"Jun 21\", \"Jui 21\", \"Aou 21\", \"Sep 21\", \"Oct 21\", \"Nov 21\", \"Dec 21\"];\n\n\nexport function getContents (d, data) {\n  // TODO : Generate tooltip contents\n  return `<div style='font-weight:normal'>\n            <b>Mois :</b> ${months[data.indexOf(d)]}<br/>\n            <b>Nombre de logement à louer :</b> ${d.total}<br/>\n            <b>Prix moyen :</b> ${Math.round(d.price)} $<br/>\n          </div>`\n}\n","\nexport function getHouseTypes(data){\n    const unitype = new Array();\n    data.forEach(listing => {\n        if(!unitype.includes(listing.unitype))\n            unitype.push(listing.unitype);\n    });\n    return unitype;\n}\nvar month = [\"Janvier\", \"Fevrier\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juillet\", \"Aout\", \"Septembre\", \"Octobre\", \"Novembre\", \"Decembre\",];\n\nexport function getMonthsRange(data){\n    var max = 0;\n    var min = 11;\n    data.forEach(listing => {\n        if(listing.dateavailable !== null){\n            if(listing.dateavailable.getYear() - 100 === 20 && listing.dateavailable.getMonth() < min){\n                min = listing.dateavailable.getMonth()\n            }\n            else if(listing.dateavailable.getYear() - 100 === 21 && listing.dateavailable.getMonth() > max){\n                max = listing.dateavailable.getMonth()\n            }\n        }\n    });\n    // min 2020, max 2021\n    return [min, max]\n}\n\n\nexport function getAveragePricePerHouseTypePerMonth(data){\n    var arr = getHouseTypes(data)\n    var i = 0\n    var price_count = []\n\n    for (let index = 0; index < 24; index++) {\n        const obj = {}\n        obj[\"price_per_house\"] = {}\n        for(var i = 0; i < arr.length; i++){\n            obj[arr[i]] = 0;\n            obj[\"price_per_house\"][arr[i]] = 0;\n        }\n        obj[\"price\"] = 0\n        obj[\"total\"] = 0\n        price_count.push(obj)\n    }\n\n    var map = new Map();\n\n\n    data.forEach(listing => {\n        if (listing.dateavailable !== null) {\n            listing.dateavailable.setHours(listing.dateavailable.getHours() + 5)\n            if(!map.has(listing.unitype + \" - \" + month[listing.dateavailable.getMonth()] + \" \" + listing.dateavailable.getFullYear())) {\n                map.set((listing.unitype + \" - \" + month[listing.dateavailable.getMonth()] + \" \" + listing.dateavailable.getFullYear()), { count: 1, sum: listing.price })\n                if(listing.dateavailable.getFullYear() >= 2021) {\n                    price_count[listing.dateavailable.getMonth() + 12][listing.unitype] = 1\n                    price_count[listing.dateavailable.getMonth() + 12][\"price_per_house\"][listing.unitype] = listing.price\n                } else {\n                    price_count[listing.dateavailable.getMonth()][listing.unitype] = 1\n                    price_count[listing.dateavailable.getMonth()][\"price_per_house\"][listing.unitype] = listing.price\n                }\n            } else {\n                map.get(listing.unitype + \" - \" + month[listing.dateavailable.getMonth()] + \" \" + listing.dateavailable.getFullYear()).count++\n                map.get(listing.unitype + \" - \" + month[listing.dateavailable.getMonth()] + \" \" + listing.dateavailable.getFullYear()).sum += listing.price\n\n                if(listing.dateavailable.getFullYear() >= 2021) {\n                    price_count[listing.dateavailable.getMonth() + 12][\"price_per_house\"][listing.unitype] = \n                    map.get(listing.unitype + \" - \" + month[listing.dateavailable.getMonth()] + \" \" + listing.dateavailable.getFullYear()).sum\n                         \n                    price_count[listing.dateavailable.getMonth() + 12][listing.unitype] =\n                        map.get(listing.unitype + \" - \" + month[listing.dateavailable.getMonth()] + \" \" + listing.dateavailable.getFullYear()).count\n                } else {\n                    price_count[listing.dateavailable.getMonth()][\"price_per_house\"][listing.unitype] = \n                        map.get(listing.unitype + \" - \" + month[listing.dateavailable.getMonth()] + \" \" + listing.dateavailable.getFullYear()).sum\n\n                    price_count[listing.dateavailable.getMonth()][listing.unitype] =\n                        map.get(listing.unitype + \" - \" + month[listing.dateavailable.getMonth()] + \" \" + listing.dateavailable.getFullYear()).count\n                }\n            }\n        }\n    });\n\n    price_count.forEach(obj => {\n        obj.total = obj[\"apartment\"] + obj[\"basement-apartment\"] + obj[\"condo\"] + obj[\"duplex-triplex\"] + obj[\"house\"]\n        if(obj.total !== 0)\n            obj.price = (obj[\"price_per_house\"][\"apartment\"] + obj[\"price_per_house\"][\"basement-apartment\"] + obj[\"price_per_house\"][\"condo\"] + obj[\"price_per_house\"][\"duplex-triplex\"] + obj[\"price_per_house\"][\"house\"])/obj.total\n    });\n\n    return price_count;\n}","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n","export default function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n","export default function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n","export {default as nest} from \"./nest\";\nexport {default as set} from \"./set\";\nexport {default as map} from \"./map\";\nexport {default as keys} from \"./keys\";\nexport {default as values} from \"./values\";\nexport {default as entries} from \"./entries\";\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","export {default as create} from \"./create\";\nexport {default as creator} from \"./creator\";\nexport {default as local} from \"./local\";\nexport {default as matcher} from \"./matcher\";\nexport {default as mouse} from \"./mouse\";\nexport {default as namespace} from \"./namespace\";\nexport {default as namespaces} from \"./namespaces\";\nexport {default as clientPoint} from \"./point\";\nexport {default as select} from \"./select\";\nexport {default as selectAll} from \"./selectAll\";\nexport {default as selection} from \"./selection/index\";\nexport {default as selector} from \"./selector\";\nexport {default as selectorAll} from \"./selectorAll\";\nexport {styleValue as style} from \"./selection/style\";\nexport {default as touch} from \"./touch\";\nexport {default as touches} from \"./touches\";\nexport {default as window} from \"./window\";\nexport {event, customEvent} from \"./selection/on\";\n","/**\n * d3.tip\n * Copyright (c) 2013-2017 Justin Palmer\n *\n * Tooltips for d3.js SVG visualizations\n */\n// eslint-disable-next-line no-extra-semi\nimport { map } from 'd3-collection'\nimport { selection, select } from 'd3-selection'\n// Public - constructs a new tooltip\n//\n// Returns a tip\nexport default function() {\n  var direction   = d3TipDirection,\n      offset      = d3TipOffset,\n      html        = d3TipHTML,\n      rootElement = document.body,\n      node        = initNode(),\n      svg         = null,\n      point       = null,\n      target      = null\n\n  function tip(vis) {\n    svg = getSVGNode(vis)\n    if (!svg) return\n    point = svg.createSVGPoint()\n    rootElement.appendChild(node)\n  }\n\n  // Public - show the tooltip on the screen\n  //\n  // Returns a tip\n  tip.show = function() {\n    var args = Array.prototype.slice.call(arguments)\n    if (args[args.length - 1] instanceof SVGElement) target = args.pop()\n\n    var content = html.apply(this, args),\n        poffset = offset.apply(this, args),\n        dir     = direction.apply(this, args),\n        nodel   = getNodeEl(),\n        i       = directions.length,\n        coords,\n        scrollTop  = document.documentElement.scrollTop ||\n      rootElement.scrollTop,\n        scrollLeft = document.documentElement.scrollLeft ||\n      rootElement.scrollLeft\n\n    nodel.html(content)\n      .style('opacity', 1).style('pointer-events', 'all')\n\n    while (i--) nodel.classed(directions[i], false)\n    coords = directionCallbacks.get(dir).apply(this)\n    nodel.classed(dir, true)\n      .style('top', (coords.top + poffset[0]) + scrollTop + 'px')\n      .style('left', (coords.left + poffset[1]) + scrollLeft + 'px')\n\n    return tip\n  }\n\n  // Public - hide the tooltip\n  //\n  // Returns a tip\n  tip.hide = function() {\n    var nodel = getNodeEl()\n    nodel.style('opacity', 0).style('pointer-events', 'none')\n    return tip\n  }\n\n  // Public: Proxy attr calls to the d3 tip container.\n  // Sets or gets attribute value.\n  //\n  // n - name of the attribute\n  // v - value of the attribute\n  //\n  // Returns tip or attribute value\n  // eslint-disable-next-line no-unused-vars\n  tip.attr = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().attr(n)\n    }\n\n    var args =  Array.prototype.slice.call(arguments)\n    selection.prototype.attr.apply(getNodeEl(), args)\n    return tip\n  }\n\n  // Public: Proxy style calls to the d3 tip container.\n  // Sets or gets a style value.\n  //\n  // n - name of the property\n  // v - value of the property\n  //\n  // Returns tip or style property value\n  // eslint-disable-next-line no-unused-vars\n  tip.style = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().style(n)\n    }\n\n    var args = Array.prototype.slice.call(arguments)\n    selection.prototype.style.apply(getNodeEl(), args)\n    return tip\n  }\n\n  // Public: Set or get the direction of the tooltip\n  //\n  // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n  //     sw(southwest), ne(northeast) or se(southeast)\n  //\n  // Returns tip or direction\n  tip.direction = function(v) {\n    if (!arguments.length) return direction\n    direction = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: Sets or gets the offset of the tip\n  //\n  // v - Array of [x, y] offset\n  //\n  // Returns offset or\n  tip.offset = function(v) {\n    if (!arguments.length) return offset\n    offset = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the html value of the tooltip\n  //\n  // v - String value of the tip\n  //\n  // Returns html value or tip\n  tip.html = function(v) {\n    if (!arguments.length) return html\n    html = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the root element anchor of the tooltip\n  //\n  // v - root element of the tooltip\n  //\n  // Returns root node of tip\n  tip.rootElement = function(v) {\n    if (!arguments.length) return rootElement\n    rootElement = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: destroys the tooltip and removes it from the DOM\n  //\n  // Returns a tip\n  tip.destroy = function() {\n    if (node) {\n      getNodeEl().remove()\n      node = null\n    }\n    return tip\n  }\n\n  function d3TipDirection() { return 'n' }\n  function d3TipOffset() { return [0, 0] }\n  function d3TipHTML() { return ' ' }\n\n  var directionCallbacks = map({\n        n:  directionNorth,\n        s:  directionSouth,\n        e:  directionEast,\n        w:  directionWest,\n        nw: directionNorthWest,\n        ne: directionNorthEast,\n        sw: directionSouthWest,\n        se: directionSouthEast\n      }),\n      directions = directionCallbacks.keys()\n\n  function directionNorth() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.n.y - node.offsetHeight,\n      left: bbox.n.x - node.offsetWidth / 2\n    }\n  }\n\n  function directionSouth() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.s.y,\n      left: bbox.s.x - node.offsetWidth / 2\n    }\n  }\n\n  function directionEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.e.y - node.offsetHeight / 2,\n      left: bbox.e.x\n    }\n  }\n\n  function directionWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.w.y - node.offsetHeight / 2,\n      left: bbox.w.x - node.offsetWidth\n    }\n  }\n\n  function directionNorthWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.nw.y - node.offsetHeight,\n      left: bbox.nw.x - node.offsetWidth\n    }\n  }\n\n  function directionNorthEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.ne.y - node.offsetHeight,\n      left: bbox.ne.x\n    }\n  }\n\n  function directionSouthWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.sw.y,\n      left: bbox.sw.x - node.offsetWidth\n    }\n  }\n\n  function directionSouthEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.se.y,\n      left: bbox.se.x\n    }\n  }\n\n  function initNode() {\n    var div = select(document.createElement('div'))\n    div\n      .style('position', 'absolute')\n      .style('top', 0)\n      .style('opacity', 0)\n      .style('pointer-events', 'none')\n      .style('box-sizing', 'border-box')\n\n    return div.node()\n  }\n\n  function getSVGNode(element) {\n    var svgNode = element.node()\n    if (!svgNode) return null\n    if (svgNode.tagName.toLowerCase() === 'svg') return svgNode\n    return svgNode.ownerSVGElement\n  }\n\n  function getNodeEl() {\n    if (node == null) {\n      node = initNode()\n      // re-add node to DOM\n      rootElement.appendChild(node)\n    }\n    return select(node)\n  }\n\n  // Private - gets the screen coordinates of a shape\n  //\n  // Given a shape on the screen, will return an SVGPoint for the directions\n  // n(north), s(south), e(east), w(west), ne(northeast), se(southeast),\n  // nw(northwest), sw(southwest).\n  //\n  //    +-+-+\n  //    |   |\n  //    +   +\n  //    |   |\n  //    +-+-+\n  //\n  // Returns an Object {n, s, e, w, nw, sw, ne, se}\n  function getScreenBBox(targetShape) {\n    var targetel   = target || targetShape\n\n    while (targetel.getScreenCTM == null && targetel.parentNode != null) {\n      targetel = targetel.parentNode\n    }\n\n    var bbox       = {},\n        matrix     = targetel.getScreenCTM(),\n        tbbox      = targetel.getBBox(),\n        width      = tbbox.width,\n        height     = tbbox.height,\n        x          = tbbox.x,\n        y          = tbbox.y\n\n    point.x = x\n    point.y = y\n    bbox.nw = point.matrixTransform(matrix)\n    point.x += width\n    bbox.ne = point.matrixTransform(matrix)\n    point.y += height\n    bbox.se = point.matrixTransform(matrix)\n    point.x -= width\n    bbox.sw = point.matrixTransform(matrix)\n    point.y -= height / 2\n    bbox.w = point.matrixTransform(matrix)\n    point.x += width\n    bbox.e = point.matrixTransform(matrix)\n    point.x -= width / 2\n    point.y -= height / 2\n    bbox.n = point.matrixTransform(matrix)\n    point.y += height\n    bbox.s = point.matrixTransform(matrix)\n\n    return bbox\n  }\n\n  // Private - replace D3JS 3.X d3.functor() function\n  function functor(v) {\n    return typeof v === 'function' ? v : function() {\n      return v\n    }\n  }\n\n  return tip\n}\n","var month = [\"Jan\", \"Fev\", \"Mar\", \"Avr\", \"Mai\", \"Jun\", \"Jui\", \"Aou\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n\n'use strict'\n\nimport * as helper from './helper.js'\nimport * as scales from './scales.js'\nimport * as viz from './viz.js'\nimport * as tooltip from './tooltip.js'\nimport * as preproc from './preprocess.js'\nimport d3Tip from 'd3-tip'\n\nexport function build(data, d3) {\n    var data = preproc.getAveragePricePerHouseTypePerMonth(data)\n    const margin = {\n        top: 75,\n        right: 200,\n        bottom: 100,\n        left: 80\n    }\n\n    let svgSize, graphSize\n\n    setSizing()\n\n    const g = helper.generateG(margin)\n\n    const tip = d3Tip().attr('class', 'd3-tip').html(function (d) { return tooltip.getContents(d, data) })\n    g.call(tip)\n\n    helper.appendAxes(g)\n    helper.appendGraphLabels(g)\n    helper.placeTitle(g, graphSize.width)\n\n    viz.positionLabels(g, graphSize.width, graphSize.height)\n    viz.setTitleText(\"Fluctuation du prix des logement en fonction du mois et du nombre de propriétés sur le marché\")\n\n    const radiusScale = scales.setRadiusScale(data)\n    const colorScale = scales.setColorScale(data)\n    const xScale = scales.setXScale(graphSize.width, data)\n    const yScale = scales.setYScale(graphSize.height, data)\n\n    helper.drawXAxis(xScale, graphSize.height)\n    helper.drawYAxis(yScale)\n\n    viz.setCircleHoverHandler(tip)\n\n    function setSizing() {\n        svgSize = {\n            width: 1400,\n            height: 800\n        }\n\n        graphSize = {\n            width: svgSize.width - margin.right - margin.left,\n            height: svgSize.height - margin.bottom - margin.top\n        }\n\n        helper.setCanvasSize(svgSize.width, svgSize.height)\n    }\n\n     viz.drawCircles(data, radiusScale, tip)\n     viz.moveCircles(xScale, yScale, data)\n\n}\n\n","\n/**\n * Generates the SVG element g which will contain the data visualisation.\n *\n * @param {object} margin The desired margins around the graph\n * @returns {*} The d3 Selection for the created g element\n */\nexport function generateG (margin) {\n  return d3.select('.graph-line')\n    .select('svg')\n    .append('g')\n    .attr('id', 'graph-g-line')\n    .attr('transform',\n      'translate(' + margin.left + ',' + margin.top + ')')\n}\n\n/**\n * Sets the size of the SVG canvas containing the graph.\n *\n * @param {number} width The desired width\n * @param {number} height The desired height\n */\nexport function setCanvasSize (width, height) {\n  d3.select('#line-chart')\n    .attr('width', width)\n    .attr('height', height)\n}\n\n/**\n * Appends an SVG g element which will contain the axes.\n *\n * @param {*} g The d3 Selection of the graph's g SVG element\n */\nexport function appendAxes (g) {\n  g.append('g')\n    .attr('class', 'x axis line')\n\n  g.append('g')\n    .attr('class', 'y axis line')\n}\n/**\n * Appends the labels for the the y axis and the title of the graph.\n *\n * @param {*} g The d3 Selection of the graph's g SVG element\n */\nexport function appendGraphLabels (g) {\n  g.append('text')\n    .text('Prix moyen des propriétés ($)')\n    .attr('class', 'y axis-text')\n    .attr('font-size', 15)\n\n  g.append('text')\n    .text('Mois')\n    .attr('class', 'x axis-text')\n    .attr('font-size', 15)\n}\n\n/**\n * Draws the X axis at the bottom of the diagram.\n *\n * @param {*} xScale The scale to use to draw the axis\n * @param {number} height The height of the graphic\n */\nexport function drawXAxis (xScale, height) {\n  d3.select('.x.axis.line')\n    .attr('transform', 'translate(0, ' + height + ')')\n    .call(d3.axisBottom(xScale).tickSizeOuter(0).tickArguments([5, '~s']))\n}\n\n/**\n * Draws the Y axis to the left of the diagram.\n *\n * @param {*} yScale The scale to use to draw the axis\n */\nexport function drawYAxis (yScale) {\n d3.select('.y.axis.line')\n    .call(d3.axisLeft(yScale).tickSizeOuter(0).tickArguments([5])) \n}\n\n/**\n * Places the graph's title.\n *\n * @param {*} g The d3 Selection of the graph's g SVG element\n */\nexport function placeTitle (g) {\n  g.append('text')\n    .attr('class', 'title')\n    .attr('x', 0)\n    .attr('y', -20)\n    .attr('font-size', 14)\n}\n\n","\n\n/**\n * Defines the X scale\n *\n * @param {number} width The width of the graph\n * @param {object} data The data to be used\n * @returns {*} The linear scale in X\n */\nexport function setXScale (width) {\n  let months = [\"Jan 20\", \"Fev 20\", \"Mar 20\", \"Avr 20\", \"Mai 20\", \"Jun 20\", \"Jui 20\", \"Aou 20\", \"Sep 20\", \"Oct 20\", \"Nov 20\", \"Dec 20\",\n  \"Jan 21\", \"Fev 21\", \"Mar 21\", \"Avr 21\", \"Mai 21\", \"Jun 21\", \"Jui 21\", \"Aou 21\", \"Sep 21\", \"Oct 21\", \"Nov 21\", \"Dec 21\"];\n  return d3.scaleBand().domain(months).range([0, width])\n}\n\n/**\n * Defines the X scale\n *\n * @param {number} height The height of the graph\n * @param {object} data The data to be used\n * @returns {*} The linear scale in Y\n */\nexport function setYScale (height, data) {\n  let keys = Object.keys(data[0][\"price\"])\n\n  let total_maxi = -Infinity\n  let total_mini = Infinity\n\n  for(let i = 0; i < data.length; i++){\n    for(let j = 0; j < keys.length && keys[j] != \"house\" && keys[j] != \"basement-apartment\"; j++){\n      if(data[i][\"price\"][[keys[j]]] > total_maxi){\n        total_maxi = data[i][\"price\"][[keys[j]]]\n      }\n      if(data[i][\"price\"][[keys[j]]] < total_mini && 0 != data[i][\"price\"][[keys[j]]]){\n        total_mini = data[i][\"price\"][[keys[j]]]\n      }\n    }\n\n  }\n  return d3.scaleLinear().domain([total_mini - 200, total_maxi]).range([height, 0])\n  \n}\n","/**\n * Positions the x axis label and y axis label.\n *\n * @param {*} g The d3 Selection of the graph's g SVG element\n * @param {number} width The width of the graph\n * @param {number} height The height of the graph\n */\n\n var months = [\"Jan 20\", \"Fev 20\", \"Mar 20\", \"Avr 20\", \"Mai 20\", \"Jun 20\", \"Jui 20\", \"Aou 20\", \"Sep 20\", \"Oct 20\", \"Nov 20\", \"Dec 20\",\n \"Jan 21\", \"Fev 21\", \"Mar 21\", \"Avr 21\", \"Mai 21\", \"Jun 21\", \"Jui 21\", \"Aou 21\", \"Sep 21\", \"Oct 21\", \"Nov 21\", \"Dec 21\"];\n\nexport function positionLabels (g, width, height) {\n  // TODO : Position axis labels\n  let y_label = g.select('.y.axis-text')\n  const ROTATION = -90\n  const X_TRANSLATION = -50\n  const HEIGHT_OFFSET = 40\n  y_label.attr('transform', `translate(${X_TRANSLATION}, ${height/2}) rotate(${ROTATION})`)\n\n  let x_label = g.select('.x.axis-text')\n  x_label.attr('transform', `translate(${(width/2).toString()}, ${height + HEIGHT_OFFSET})`)\n  \n}\n\n\n/**\n * Sets up the hover event handler. The tooltip should show on on hover.\n *\n * @param {*} tip The tooltip\n */\nexport function setCircleHoverHandler (tip) {\n  // TODO : Set hover handler. The tooltip shows on\n  // hover and the opacity goes up to 100% (from 70%)\n  const FULL_OPACITY = 1\n  const PARTIAL_OPACITY = 0.7\n\n  d3.selectAll(\".circles\")\n    .on('mouseover', function(d){\n      d3.select(this).attr(\"opacity\", FULL_OPACITY)\n      tip.show(d, this)\n    })\n    .on('mouseout', function(d){\n      d3.select(this).attr(\"opacity\", PARTIAL_OPACITY)\n      tip.hide(d, this)\n    })\n}\n\n\n/**\n * Updates the position of the circles based on their bound data. The position\n * transitions gradually.\n *\n * @param {*} xScale The x scale used to position the circles\n * @param {*} yScale The y scale used to position the circles\n * @param {number} transitionDuration The duration of the transition\n */\nexport function moveCircles (xScale, yScale, data) {\n  // TODO : Set up the transition and place the circle centers\n  // in x and y according to their GDP and CO2 respectively\n  d3.select('#graph-g-line')\n    .selectAll('circle')\n    .transition()\n    .ease(d3.easeLinear)\n    .attr(\"cx\", d => (xScale(months[data.indexOf(d)]) + 28))\n    .attr(\"cy\", d => yScale(d.price))\n\n}\n\nexport function setTitleText (title) {\n  // TODO : Set the title\n  const FONT_SIZE = 14\n  const MARGIN = 10\n\n  let g = d3.select('#graph-g-line')\n\n\n  g.append('text')\n    .text(title.toString())\n    .attr('id', 'title-line')\n    .attr('transform', 'translate(0, -'+ MARGIN.toString() +')')\n    .attr('font-size', FONT_SIZE)\n    .attr('font-weight', \"bolder\")\n  \n}\n\n\nexport function drawLines(XScale, yScale, data, appart, condos, duplex, house){\n\n  let g = d3.select('#graph-g-line')\n\n  if(appart) {\n    g.append('path')\n    .attr(\"class\", \"appartPath\")\n    .datum(data)\n    .attr(\"fill\", \"none\")\n    .attr(\"stroke\", \"#ffb997\")\n    .attr(\"stroke-width\", 1.5).attr(\"d\", d3.line()\n    .defined(d => d[\"apartment\"] !== 0)\n    .x((d) => XScale(months[data.indexOf(d)]) + 25)\n    .y((d) => yScale(d[\"price\"][\"apartment\"]))\n    )\n  }\n  else {\n    d3.selectAll(\".appartPath\").remove()\n  }\n\n  if(condos){\n    g.append('path')\n    .datum(data)\n    .attr(\"fill\", \"none\")\n    .attr(\"class\", \"condoPath\")\n    .attr(\"stroke\", \"#f67e7d\")\n    .attr(\"stroke-width\", 1.5).attr(\"d\", d3.line()\n    .defined(d => d[\"condo\"] !== 0)\n    .x((d) => XScale(months[data.indexOf(d)]) + 25)\n    .y((d) => yScale(d[\"price\"][\"condo\"]))\n    )\n  }\n  else {\n    d3.selectAll(\".condoPath\").remove()\n  }\n\n\n  if(duplex) {\n    g.append('path')\n    .datum(data)\n    .attr(\"fill\", \"none\")\n    .attr(\"class\", \"duplexPath\")\n    .attr(\"stroke\", \"#040926\")\n    .attr(\"stroke-width\", 1.5).attr(\"d\", d3.line()\n    .defined(d => d[\"duplex-triplex\"] !== 0)\n    .x((d) => XScale(months[data.indexOf(d)]) + 25)\n    .y((d) => yScale(d[\"price\"][\"duplex-triplex\"]))\n    )\n  }\n  else {\n    d3.selectAll(\".duplexPath\").remove()\n  }\n\n  if(house) {\n    g.append('path')\n    .datum(data)\n    .attr(\"fill\", \"none\")\n    .attr(\"class\", \"housePath\")\n    .attr(\"stroke\", \"#3CAEA3\")\n    .attr(\"stroke-width\", 1.5).attr(\"d\", d3.line()\n    .defined(d => d[\"house\"] !== 0)\n    .x((d) => XScale(months[data.indexOf(d)]) + 25)\n    .y((d) => yScale(d[\"price\"][\"house\"]))\n    )\n  }\n  else {\n    d3.selectAll(\".housePath\").remove()\n  }\n}\n\n\n\n\n\n\n","\nexport function getHouseTypes(data){\n    const unitype = new Array();\n    data.forEach(listing => {\n        if(!unitype.includes(listing.unitype))\n            unitype.push(listing.unitype);\n    });\n    return unitype;\n}\nvar month = [\"Janvier\", \"Fevrier\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juillet\", \"Aout\", \"Septembre\", \"Octobre\", \"Novembre\", \"Decembre\",];\n\nexport function getMonthsRange(data){\n    var max = 0;\n    var min = 11;\n    data.forEach(listing => {\n        if(listing.dateavailable !== null){\n            if(listing.dateavailable.getYear() - 100 === 20 && listing.dateavailable.getMonth() < min){\n                min = listing.dateavailable.getMonth()\n            }\n            else if(listing.dateavailable.getYear() - 100 === 21 && listing.dateavailable.getMonth() > max){\n                max = listing.dateavailable.getMonth()\n            }\n        }\n    });\n    // min 2020, max 2021\n    return [min, max]\n}\n\n\nexport function getAveragePricePerHouseTypePerMonth(data){\n    var arr = getHouseTypes(data)\n    var i = 0\n    var price_count = []\n\n    for (let index = 0; index < 24; index++) {\n        const obj = {}\n        for(var i = 0; i < arr.length; i++){\n            obj[arr[i]] = 0;\n        }\n        obj[\"price\"] = {}\n        obj[\"total\"] = {}\n        price_count.push(obj)\n    }\n\n    var map = new Map();\n\n\n    data.forEach(listing => {\n        if (listing.dateavailable !== null) {\n            listing.dateavailable.setHours(listing.dateavailable.getHours() + 5)\n\n            if(!map.has(listing.unitype + \" - \" + month[listing.dateavailable.getMonth()] + \" \" + listing.dateavailable.getFullYear())) {\n\n                map.set((listing.unitype + \" - \" + month[listing.dateavailable.getMonth()] + \" \" + listing.dateavailable.getFullYear()), { count: 1, sum: listing.price })\n\n                if(listing.dateavailable.getFullYear() >= 2021) {\n                    price_count[listing.dateavailable.getMonth() + 12][listing.unitype] = 1\n                    price_count[listing.dateavailable.getMonth() + 12][\"price\"][listing.unitype] = listing.price\n                } else {\n                    price_count[listing.dateavailable.getMonth()][listing.unitype] = 1\n                    price_count[listing.dateavailable.getMonth()][\"price\"][listing.unitype] = listing.price\n                }\n            }\n            \n            else {\n                map.get(listing.unitype + \" - \" + month[listing.dateavailable.getMonth()] + \" \" + listing.dateavailable.getFullYear()).count++\n                map.get(listing.unitype + \" - \" + month[listing.dateavailable.getMonth()] + \" \" + listing.dateavailable.getFullYear()).sum += listing.price\n                if(listing.dateavailable.getFullYear() >= 2021) {\n                    price_count[listing.dateavailable.getMonth() + 12][listing.unitype]++\n                    price_count[listing.dateavailable.getMonth() + 12][\"price\"][listing.unitype] += listing.price\n                } else {\n                    price_count[listing.dateavailable.getMonth()][listing.unitype]++\n                    price_count[listing.dateavailable.getMonth()][\"price\"][listing.unitype] += listing.price\n                }\n            }\n        }\n    });\n\n    price_count.forEach(obj => {\n\n        if(obj[\"apartment\"] > 0){\n            obj.price[\"apartment\"] = (obj.price[\"apartment\"]/obj[\"apartment\"])\n        } else {\n            obj.price[\"apartment\"] = 0\n        }\n\n        if(obj[\"basement-apartment\"] > 0){\n            obj.price[\"basement-apartment\"] = (obj.price[\"basement-apartment\"]/obj[\"basement-apartment\"])\n        } else {\n            obj.price[\"basement-apartment\"] = 0\n        }\n        \n        if(obj[\"condo\"] > 0){\n            obj.price[\"condo\"] = (obj.price[\"condo\"]/obj[\"condo\"])\n        } else {\n            obj.price[\"condo\"] = 0\n        }\n        if(obj[\"duplex-triplex\"] > 0){\n            obj.price[\"duplex-triplex\"] = (obj.price[\"duplex-triplex\"]/obj[\"duplex-triplex\"])\n        } else {\n            obj.price[\"duplex-triplex\"] = 0\n        }\n        if(obj[\"house\"] > 0){\n            obj.price[\"house\"] = (obj.price[\"house\"]/obj[\"house\"])\n        } else {\n            obj.price[\"house\"] = 0\n        }\n    });\n\n\n    return price_count;\n}","/**\n * Defines the contents of the tooltip. See CSS for tooltip styling. The tooltip\n * features the country name, population, GDP, and CO2 emissions, preceded\n * by a label and followed by units where applicable.\n *\n * @param {object} d The data associated to the hovered element\n * @returns {string} The tooltip contents\n */\n\n var months = [\"Jan 20\", \"Fev 20\", \"Mar 20\", \"Avr 20\", \"Mai 20\", \"Jun 20\", \"Jui 20\", \"Aou 20\", \"Sep 20\", \"Oct 20\", \"Nov 20\", \"Dec 20\",\n \"Jan 21\", \"Fev 21\", \"Mar 21\", \"Avr 21\", \"Mai 21\", \"Jun 21\", \"Jui 21\", \"Aou 21\", \"Sep 21\", \"Oct 21\", \"Nov 21\", \"Dec 21\"];\n\n\nexport function getContents (d, data) {\n  // TODO : Generate tooltip contents\n  return `<div style='font-weight:normal'>\n            <b>Mois :</b> ${months[data.indexOf(d)]}<br/>\n            <b>Nombre de logement à louer :</b> ${d.total}<br/>\n            <b>Prix moyen :</b> ${Math.round(d.price)} $<br/>\n          </div>`\n}\n","/**\n * Draws the legend.\n *\n * @param {*} colorScale The color scale to use\n * @param {*} g The d3 Selection of the graph's g SVG element\n * @param {number} width The width of the graph, used to place the legend\n */\nexport function drawLegend (g, width) {\n  // TODO : Draw the legend using d3Legend\n  // For help, see : https://d3-legend.susielu.com/\n  var data = [\"Apartement\", \"Condo\", \"duplex-triplex\"]\n  const TOP_LEGEND_TITLE = -30\n  const TOP_LEGEND = -10\n  const MARGIN = 10\n\n  g.append('text')\n  .text('Légende')\n  .attr('font-weight', \"bold\")\n  .attr(\"transform\", \"translate(\" + (width + MARGIN).toString()  + \",\" + (TOP_LEGEND).toString() + \")\");\n  \n  g.append('text')\n  .text(\"Apartement\")\n  .attr('font-weight', \"bold\")\n  .attr(\"transform\", \"translate(\" + (width + MARGIN + 20).toString()  + \",\" + (TOP_LEGEND_TITLE + 50).toString() + \")\");\n\n  g.append('text')\n  .text(\"Condo\")\n  .attr('font-weight', \"bold\")\n  .attr(\"transform\", \"translate(\" + (width + MARGIN + 20).toString()  + \",\" + (TOP_LEGEND_TITLE + 75).toString() + \")\");\n\n  g.append('text')\n  .text(\"duplex-triplex\")\n  .attr('font-weight', \"bold\")\n  .attr(\"transform\", \"translate(\" + (width + MARGIN + 20).toString()  + \",\" + (TOP_LEGEND_TITLE + 100).toString() + \")\");\n\n  g.append('text')\n  .text(\"Maison\")\n  .attr('font-weight', \"bold\")\n  .attr(\"transform\", \"translate(\" + (width + MARGIN + 20).toString()  + \",\" + (TOP_LEGEND_TITLE + 125).toString() + \")\");\n\n\n  g.append('rect')\n  .attr(\"width\", \"15\")\n  .attr(\"height\", \"15\")\n  .attr(\"fill\", \"#ffb997\")\n  .attr(\"transform\", \"translate(\" + (width + MARGIN).toString()  + \",\" + (TOP_LEGEND_TITLE + 38).toString() + \")\");\n\n  g.append('rect')\n  .attr(\"width\", \"15\")\n  .attr(\"height\", \"15\")\n  .attr(\"fill\", \"#f67e7d\")\n  .attr(\"transform\", \"translate(\" + (width + MARGIN).toString()  + \",\" + (TOP_LEGEND_TITLE + 63).toString() + \")\");\n\n\n  g.append('rect')\n  .attr(\"width\", \"15\")\n  .attr(\"height\", \"15\")\n  .attr(\"fill\", \"#040926\")\n  .attr(\"transform\", \"translate(\" + (width + MARGIN).toString()  + \",\" + (TOP_LEGEND_TITLE + 88).toString() + \")\");\n\n  g.append('rect')\n  .attr(\"width\", \"15\")\n  .attr(\"height\", \"15\")\n  .attr(\"fill\", \"#3CAEA3\")\n  .attr(\"transform\", \"translate(\" + (width + MARGIN).toString()  + \",\" + (TOP_LEGEND_TITLE + 113).toString() + \")\");\n\n\n}\n","'use strict'\n\nimport * as helper from './helper.js'\nimport * as scales from './scales.js'\nimport * as viz from './viz.js'\nimport * as preproc from './preprocess.js'\nimport * as tooltip from './tooltip.js'\nimport * as legend from './legend.js'\n\nimport d3Tip from 'd3-tip'\n\nexport function build(data, d3) {\n\n    var data = preproc.getAveragePricePerHouseTypePerMonth(data)\n\n    const margin = {\n        top: 75,\n        right: 200,\n        bottom: 100,\n        left: 80\n    }\n\n    let svgSize, graphSize\n\n    setSizing()\n\n    const g = helper.generateG(margin)\n\n    const tip = d3Tip().attr('class', 'd3-tip').html(function (d) { return tooltip.getContents(d, data) })\n    g.call(tip)\n\n    helper.appendAxes(g)\n    helper.appendGraphLabels(g)\n    helper.placeTitle(g, graphSize.width, graphSize.height)\n\n    viz.positionLabels(g, graphSize.width, graphSize.height)\n    viz.setTitleText(\"Fluctuation du prix des logement en fonction du mois et du type de propriété\")\n\n    const xScale = scales.setXScale(graphSize.width, data)\n    const yScale = scales.setYScale(graphSize.height, data)\n\n    helper.drawXAxis(xScale, graphSize.height)\n    helper.drawYAxis(yScale)\n\n    legend.drawLegend(g, graphSize.width)\n\n    function setSizing() {\n        svgSize = {\n            width: 1400,\n            height: 800\n        }\n\n        graphSize = {\n            width: svgSize.width - margin.right - margin.left,\n            height: svgSize.height - margin.bottom - margin.top\n        }\n\n        helper.setCanvasSize(svgSize.width, svgSize.height)\n    }\n\n    viz.drawLines(xScale, yScale, data, document.getElementsByName(\"checkBoxAppart\")[0].checked, document.getElementsByName(\"checkBoxCondos\")[0].checked, document.getElementsByName(\"checkBoxDuplex\")[0].checked, document.getElementsByName(\"checkBoxHouse\")[0].checked);\n\n      document.getElementsByName(\"checkBoxAppart\")[0].addEventListener('change', function() {\n        viz.drawLines(xScale, yScale, data, document.getElementsByName(\"checkBoxAppart\")[0].checked, document.getElementsByName(\"checkBoxCondos\")[0].checked, document.getElementsByName(\"checkBoxDuplex\")[0].checked, document.getElementsByName(\"checkBoxHouse\")[0].checked);\n      });\n\n      document.getElementsByName(\"checkBoxCondos\")[0].addEventListener('change', function() {\n        viz.drawLines(xScale, yScale, data, document.getElementsByName(\"checkBoxAppart\")[0].checked, document.getElementsByName(\"checkBoxCondos\")[0].checked, document.getElementsByName(\"checkBoxDuplex\")[0].checked, document.getElementsByName(\"checkBoxHouse\")[0].checked);\n      });\n\n      document.getElementsByName(\"checkBoxDuplex\")[0].addEventListener('change', function() {\n        viz.drawLines(xScale, yScale, data, document.getElementsByName(\"checkBoxAppart\")[0].checked, document.getElementsByName(\"checkBoxCondos\")[0].checked, document.getElementsByName(\"checkBoxDuplex\")[0].checked, document.getElementsByName(\"checkBoxHouse\")[0].checked);\n      });\n\n      document.getElementsByName(\"checkBoxHouse\")[0].addEventListener('change', function() {\n        viz.drawLines(xScale, yScale, data, document.getElementsByName(\"checkBoxAppart\")[0].checked, document.getElementsByName(\"checkBoxCondos\")[0].checked, document.getElementsByName(\"checkBoxDuplex\")[0].checked, document.getElementsByName(\"checkBoxHouse\")[0].checked);\n      });\n\n}\n\n","\nimport * as FluctBuilder from './scripts/fluctCout/build.js'\nimport * as FluctTypeBuilder from './scripts/fluctCoutParType/build.js'\n\n\n(function (d3) {\n  d3.csv('Logement-Locatif-Viz/donnees_habitations.csv', d3.autoType).then(function (data) {\n    FluctBuilder.build(data, d3);\n    FluctTypeBuilder.build(data, d3);\n  })\n})(d3)"]}